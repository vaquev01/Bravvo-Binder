import{j as e,v as A,w as M,x as z,y as S,z as L,D as C,Y as P,E as I,F,H as E,R,r as $,G,l as f,W as V,g as O,J as B,K as W,N as U,d as N,i as q,t as D,f as _,p as H}from"./react-vendor-DpeMiI2M.js";import{u as Y}from"./useVaultForm-BD_dQTz4.js";import{a as K,b as Q}from"./index-CQ2kwkCc.js";import"./vendor-DYLXRpC5.js";function J({value:c=[],onChange:d}){const p=[{id:"instagram",label:"Instagram",icon:A,color:"from-pink-500 to-purple-500"},{id:"tiktok",label:"TikTok",icon:M,color:"from-cyan-400 to-pink-500"},{id:"google",label:"Google Ads",icon:z,color:"from-blue-500 to-green-500"},{id:"whatsapp",label:"WhatsApp",icon:S,color:"from-green-500 to-green-600"},{id:"website",label:"Site Pr√≥prio",icon:L,color:"from-gray-400 to-gray-600"},{id:"store",label:"Loja F√≠sica",icon:C,color:"from-amber-500 to-orange-500"},{id:"youtube",label:"YouTube",icon:P,color:"from-red-500 to-red-600"},{id:"linkedin",label:"LinkedIn",icon:I,color:"from-blue-600 to-blue-700"},{id:"facebook",label:"Facebook",icon:F,color:"from-blue-500 to-blue-600"},{id:"email",label:"E-mail Mkt",icon:E,color:"from-yellow-500 to-orange-500"}],u=l=>{c.includes(l)?d(c.filter(i=>i!==l)):d([...c,l])};return e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3",children:p.map(l=>{const i=c.includes(l.id),h=l.icon;return e.jsxs("button",{type:"button",onClick:()=>u(l.id),className:`
                            relative p-4 rounded-xl border text-center transition-all duration-200 group
                            ${i?"bg-white/10 border-white/30":"bg-white/5 border-white/10 hover:bg-white/8 hover:border-white/20"}
                        `,children:[i&&e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${l.color} opacity-10 rounded-xl`}),e.jsx("div",{className:`
                            absolute top-2 right-2 w-4 h-4 rounded border-2 flex items-center justify-center transition-all
                            ${i?"bg-white border-white":"border-gray-600 group-hover:border-gray-400"}
                        `,children:i&&e.jsx("svg",{className:"w-2.5 h-2.5 text-black",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"})})}),e.jsx("div",{className:`
                            relative z-10 mx-auto mb-2 w-10 h-10 rounded-lg flex items-center justify-center transition-all
                            ${i?`bg-gradient-to-br ${l.color} text-white`:"bg-white/10 text-gray-400 group-hover:text-gray-300"}
                        `,children:e.jsx(h,{size:20})}),e.jsx("span",{className:`relative z-10 text-xs font-medium ${i?"text-white":"text-gray-400"}`,children:l.label})]},l.id)})})}const y=[{value:"whatsapp",label:"üí¨ Falar no WhatsApp"},{value:"comprar",label:"üõí Comprar Agora"},{value:"agendar",label:"üìÖ Agendar Hor√°rio"},{value:"ifood",label:"üçî Pedir pelo iFood"},{value:"reservar",label:"ü™ë Fazer Reserva"},{value:"orcamento",label:"üìù Solicitar Or√ßamento"},{value:"saibamais",label:"‚ÑπÔ∏è Saiba Mais"},{value:"baixar",label:"üì• Baixar Material"},{value:"inscrever",label:"‚úâÔ∏è Inscrever-se"}];function ae({formData:c,setFormData:d,onNext:p}){const{formData:u,updateField:l,updateFields:i,isSynced:h,saveAndAdvance:w}=Y("V3"),{addToast:g}=K(),a=u||c||{},t=(s,r)=>{l?l(s,r):d==null||d({...a,[s]:r}),s==="conversionLink"&&r&&b(!1)},[k,b]=R.useState(!1),[x,v]=$.useState(!1),j=async s=>{v(!0);try{const r=await Q.generateVaultContent("s3",a,s);i?i(r):Object.entries(r).forEach(([n,o])=>t(n,o)),g({title:"Inspira√ß√£o Aplicada! ‚ú®",description:s==="all"?"Conceito completo gerado.":"Campos vazios preenchidos.",type:"success"})}catch(r){g({title:"Erro na IA",description:r.message,type:"error"})}finally{v(!1)}},T=s=>{if(s.preventDefault(),!a.conversionLink){b(!0),alert("‚ö†Ô∏è Por favor, insira o Link de Convers√£o (WhatsApp ou Site) para continuar.");return}w(p,"Vault 3 (Funnel)")},m=a.channels||[];return e.jsxs("form",{onSubmit:T,className:"space-y-10",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-info mb-2",children:[e.jsx(G,{size:24}),e.jsx("span",{className:"text-mono-data uppercase",children:"VAULT 3 ‚Ä¢ FUNNEL"})]}),e.jsx("h2",{className:"text-title text-2xl",children:"Funil & Convers√£o"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{type:"button",onClick:()=>j("empty"),disabled:x,className:"btn-ghost !px-3 !py-2 !h-auto flex items-center gap-2 text-xs",title:"Preencher apenas campos vazios",children:[x?e.jsx(f,{size:14,className:"animate-spin"}):e.jsx(V,{size:14}),"Completar Vazios"]}),e.jsxs("button",{type:"button",onClick:()=>j("all"),disabled:x,className:"btn-primary !px-3 !py-2 !h-auto flex items-center gap-2 text-xs bg-blue-600 hover:bg-blue-500 border-blue-500",title:"Gerar conceito completo (sobrescreve)",children:[x?e.jsx(f,{size:14,className:"animate-spin"}):e.jsx(O,{size:14}),"Inspirar Tudo"]})]})]}),e.jsxs("p",{className:"text-body max-w-xl",children:["Onde voc√™ est√° presente e como converte. Dados para o ",e.jsx("strong",{children:"S3 (Funnel Vault)"}),"."]})]}),e.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mb-8",children:[e.jsxs("label",{className:"input-label mb-2 flex items-center gap-2",children:[e.jsx(C,{size:14,className:"text-purple-400"}),"Modelo de Neg√≥cio"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["Digital (SaaS/Info)","E-commerce","Servi√ßo / Ag√™ncia","Neg√≥cio F√≠sico"].map(s=>e.jsx("button",{type:"button",onClick:()=>t("businessType",s),className:`px-3 py-2 rounded-lg border text-xs font-medium transition-all ${a.businessType===s?"bg-purple-500 text-white border-purple-400":"bg-black/20 text-gray-400 border-white/10 hover:border-white/20"}`,children:s},s))})]}),e.jsxs("section",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-subtitle flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-info/20 text-info rounded flex items-center justify-center text-xs",children:"1"}),"Canais de Marketing"]}),e.jsx("p",{className:"text-caption",children:"Selecione todos os canais onde sua marca est√° presente ou planeja estar."}),e.jsx(J,{value:m,onChange:s=>t("channels",s)}),e.jsxs("p",{className:"text-caption",children:[m.length," canal(is) selecionado(s)"]})]}),e.jsxs("section",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-subtitle flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-info/20 text-info rounded flex items-center justify-center text-xs",children:"2"}),e.jsx(B,{size:16,className:"text-info"}),"Links de Convers√£o"]}),e.jsxs("div",{className:"bg-blue-500/5 border border-blue-500/20 rounded-xl p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Link Principal (WhatsApp/Site)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"bg-[var(--bg-panel)] border border-[var(--border-subtle)] rounded-lg px-4 py-3 text-[var(--text-secondary)] font-mono text-sm flex items-center",children:"https://"}),e.jsx("input",{required:!0,placeholder:"wa.me/5511999999999",value:a.conversionLink||"",onChange:s=>t("conversionLink",s.target.value),className:`input-field font-mono flex-1 ${k?"border-red-500 ring-1 ring-red-500":""}`})]}),e.jsx("p",{className:"text-xs text-blue-400/80 mt-2",children:"‚ö° Este link ser√° injetado automaticamente em todos os CTAs criados pela IA."})]}),m.includes("instagram")&&e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Link do Instagram"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"bg-[var(--bg-panel)] border border-[var(--border-subtle)] rounded-lg px-4 py-3 text-[var(--text-secondary)] font-mono text-sm flex items-center",children:"@"}),e.jsx("input",{className:"input-field font-mono flex-1",placeholder:"seuperfil",value:a.instagramHandle||"",onChange:s=>t("instagramHandle",s.target.value)})]})]}),m.includes("website")&&e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"URL do Site"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"bg-[var(--bg-panel)] border border-[var(--border-subtle)] rounded-lg px-4 py-3 text-[var(--text-secondary)] font-mono text-sm flex items-center",children:"https://"}),e.jsx("input",{className:"input-field font-mono flex-1",placeholder:"www.seusite.com.br",value:a.websiteUrl||"",onChange:s=>t("websiteUrl",s.target.value)})]})]})]})]}),e.jsxs("section",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-subtitle flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-info/20 text-info rounded flex items-center justify-center text-xs",children:"3"}),e.jsx(W,{size:16,className:"text-info"}),"Chamadas para A√ß√£o (CTAs)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"CTA Principal"}),e.jsx("p",{className:"text-caption mb-2",children:"A√ß√£o mais importante que o cliente deve tomar"}),e.jsx("select",{className:"input-field",value:a.primaryCTA||"whatsapp",onChange:s=>t("primaryCTA",s.target.value),children:y.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"CTA Secund√°rio"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"A√ß√£o alternativa para quem n√£o est√° pronto"}),e.jsxs("select",{className:"input-field",value:a.secondaryCTA||"saibamais",onChange:s=>t("secondaryCTA",s.target.value),children:[e.jsx("option",{value:"none",children:"Nenhum"}),y.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Texto Customizado do CTA"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Opcional: texto espec√≠fico para os bot√µes"}),e.jsx("input",{className:"input-field",placeholder:"Ex: Quero minha mesa! / Pe√ßa agora pelo WhatsApp",value:a.ctaText||"",onChange:s=>t("ctaText",s.target.value)})]})]}),e.jsxs("section",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-300 uppercase tracking-wider flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-blue-500/20 text-blue-400 rounded flex items-center justify-center text-xs",children:"4"}),e.jsx(U,{size:16,className:"text-blue-400"}),"Metas & Tracking (Calculadora Reversa)"]}),e.jsxs("div",{className:"vault-room vault-room-body",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Meta Financeira do Ciclo"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Quanto voc√™ quer faturar neste ciclo?"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"R$"}),e.jsx("input",{required:!0,type:"number",className:"input-field pl-10 font-mono text-lg",placeholder:"50000",value:a.monthlyGoal||"",onChange:s=>t("monthlyGoal",s.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Ticket M√©dio (Estimado)"}),e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Puxado do V2 ou insira manual"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"R$"}),e.jsx("input",{type:"number",className:"input-field pl-10 font-mono text-lg",placeholder:"50",value:a.targetTicket||"",onChange:s=>t("targetTicket",s.target.value)})]})]})]}),a.monthlyGoal>0&&a.targetTicket>0&&e.jsxs("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/30 rounded-lg animate-fadeIn",children:[e.jsxs("h4",{className:"text-sm font-bold text-blue-400 mb-4 flex items-center gap-2",children:[e.jsx(N,{size:14}),"Para bater essa meta, voc√™ precisa de:"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-black text-white",children:Math.ceil(a.monthlyGoal/a.targetTicket).toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mt-1",children:"Vendas"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-full h-[1px] bg-[var(--border-subtle)] -z-10 hidden md:block"}),e.jsxs("p",{className:"text-xs text-gray-500 bg-[var(--bg-deep)] px-2 inline-block relative z-10 mb-1",children:["Se conv. ",a.targetConversion||2,"%"]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-gray-300",children:Math.ceil(a.monthlyGoal/a.targetTicket/((a.targetConversion||2)/100)).toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mt-1",children:"Leads / Cliques"})]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-xl font-bold text-gray-300",children:["R$ ",Math.ceil(a.monthlyGoal/a.targetTicket/((a.targetConversion||2)/100)*(a.cpl||1.5)).toLocaleString()]}),e.jsxs("p",{className:"text-xs text-gray-400 uppercase tracking-wider mt-1",children:["Investimento Est. (CPL R$ ",a.cpl||1.5,")"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Estrat√©gia de Tr√°fego"}),e.jsxs("select",{className:"input-field",value:a.trafficType||"Misto",onChange:s=>t("trafficType",s.target.value),children:[e.jsx("option",{value:"Misto",children:"üîÑ Misto (Pago + Org√¢nico)"}),e.jsx("option",{value:"Pago",children:"üí∏ 100% Tr√°fego Pago (Ads)"}),e.jsx("option",{value:"Org√¢nico",children:"üå± 100% Org√¢nico (Content)"}),e.jsx("option",{value:"Influencer",children:"ü§≥ Influenciadores"}),e.jsx("option",{value:"Indicacao",children:"üó£Ô∏è Indica√ß√£o / Boca a Boca"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"UTM Campaign Base"}),e.jsx("input",{className:"input-field font-mono",placeholder:"ex: bravvo_jan2026",value:a.utmCampaign||"",onChange:s=>t("utmCampaign",s.target.value.replace(/\s/g,"_").toLowerCase())}),a.utmCampaign&&e.jsxs("p",{className:"text-xs text-blue-400 mt-2 font-mono",children:["?utm_source=ig&utm_campaign=",a.utmCampaign]})]})]})]})]}),e.jsxs("section",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-300 uppercase tracking-wider flex items-center gap-2",children:[e.jsx("span",{className:"w-6 h-6 bg-blue-500/20 text-blue-400 rounded flex items-center justify-center text-xs",children:"5"}),e.jsx(N,{size:16,className:"text-blue-400"}),"Benchmarks de Convers√£o"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Taxa de Convers√£o Atual"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",step:"0.1",className:"input-field pr-8 font-mono",placeholder:"2.5",value:a.currentConversion||"",onChange:s=>t("currentConversion",s.target.value)}),e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:"%"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Meta de Convers√£o"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",step:"0.1",className:"input-field pr-8 font-mono",placeholder:"5.0",value:a.targetConversion||"",onChange:s=>t("targetConversion",s.target.value)}),e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:"%"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"input-label",children:"Custo por Lead (CPL)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",children:"R$"}),e.jsx("input",{type:"number",className:"input-field pl-10 font-mono",placeholder:"15",value:a.cpl||"",onChange:s=>t("cpl",s.target.value)})]})]})]})]}),e.jsx("section",{className:"space-y-6",children:e.jsxs("div",{className:"mt-2 pt-6 border-t border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("label",{className:"input-label text-purple-300",children:"KPIs Personalizados do Funil"}),e.jsxs("button",{type:"button",onClick:()=>{const s=a.customMetrics||[];t("customMetrics",[...s,{id:Date.now(),label:"",value:""}])},className:"text-xs text-purple-400 hover:text-white flex items-center gap-1",children:[e.jsx(q,{size:12})," Adicionar M√©trica"]})]}),e.jsxs("div",{className:"space-y-3",children:[(a.customMetrics||[]).map((s,r)=>e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("input",{className:"input-field flex-1",placeholder:"Ex: Reservas, Liga√ß√µes, Walk-ins",value:s.label,onChange:n=>{const o=[...a.customMetrics||[]];o[r].label=n.target.value,t("customMetrics",o)}}),e.jsx("input",{className:"input-field w-32 font-mono",placeholder:"Valor",value:s.value,onChange:n=>{const o=[...a.customMetrics||[]];o[r].value=n.target.value,t("customMetrics",o)}}),e.jsx("button",{type:"button",onClick:()=>{const n=[...a.customMetrics||[]];n.splice(r,1),t("customMetrics",n)},className:"text-gray-600 hover:text-red-400 p-2",children:e.jsx(D,{size:14})})]},r)),(!a.customMetrics||a.customMetrics.length===0)&&e.jsx("div",{className:"text-xs text-gray-600 italic",children:"Nenhuma m√©trica personalizada. Adicione m√©tricas espec√≠ficas do seu nicho (ex: N√∫mero de Mesas, Taxa de No-Show)."})]})]})}),e.jsxs("div",{className:"vault-footer",children:[e.jsx("div",{className:"flex items-center gap-2 text-sm",children:h?e.jsxs("span",{className:"flex items-center gap-1.5 text-green-400",children:[e.jsx(_,{size:14})," Sincronizado"]}):e.jsxs("span",{className:"flex items-center gap-1.5 text-yellow-400 animate-pulse",children:[e.jsx("span",{className:"w-2 h-2 bg-yellow-400 rounded-full"})," Salvando..."]})}),e.jsxs("button",{type:"submit",className:"btn-primary-lg",children:["Salvar e Avan√ßar para V4 ",e.jsx(H,{size:20})]})]})]})}export{ae as PageFunnel};
