const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/BinderLayout-bIW6yCH1.js","assets/react-vendor-DpeMiI2M.js","assets/vendor-DYLXRpC5.js","assets/PageBrand-DxX3k5o_.js","assets/useVaultForm-BD_dQTz4.js","assets/PageOffer-t9PS-vrs.js","assets/PageFunnel-CPNsZgSh.js","assets/PageOps-D8WjwUh3.js","assets/PageIdeas-CeDx2qX0.js","assets/OnePageDashboard-xDbiwyey.js","assets/LandingPage-B8lg-HTE.js","assets/LoginScreen-gV60LEIM.js","assets/AgencyDashboard-fKIQDP2B.js","assets/MasterDashboard-BQChqcRl.js"])))=>i.map(i=>d[i]);
import{r as f,j as u,C as dr,A as mr,I as ur,X as pr,W as Ja,P as gr,T as hr,U as fr,a as yr,b as Sr,R as rr,c as Ar}from"./react-vendor-DpeMiI2M.js";import"./vendor-DYLXRpC5.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();const br="modulepreload",_r=function(n){return"/BravvoOS/"+n},Ya={},K=function(e,t,o){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),c=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(t.map(d=>{if(d=_r(d),d in Ya)return;Ya[d]=!0;const g=d.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const p=document.createElement("link");if(p.rel=g?"stylesheet":br,g||(p.as="script"),p.crossOrigin="",p.href=d,c&&p.setAttribute("nonce",c),document.head.appendChild(p),g)return new Promise((b,x)=>{p.addEventListener("load",b),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return i.then(s=>{for(const c of s||[])c.status==="rejected"&&r(c.reason);return e().catch(r)})},Qa={post:{channel:"Instagram Feed",aspect:"4:5",res:"1080x1350",safe:"standard margins"},reel:{channel:"Instagram Reel",aspect:"9:16",res:"1080x1920",safe:"vertical UI safe zones"},story:{channel:"Instagram Story",aspect:"9:16",res:"1080x1920",safe:"top 150px / bottom 200px"},carousel:{channel:"Instagram Carousel",aspect:"4:5",res:"1080x1350",safe:"seamless continuity"},ad:{channel:"Paid Media (Generic)",aspect:"4:5",res:"1080x1350",safe:"optimized for conversion"}};function vr(n,e){return{aiPrompt:Tr(n,e),humanGuide:Cr(n,e)}}function Tr(n,e){var N,O,D,W,a,$,V,B,X,Z;const t=((N=e==null?void 0:e.S1)==null?void 0:N.fields)||{},o=(e==null?void 0:e.S5)||{},i=o.brandIdentity||{},r=((O=e==null?void 0:e.S2)==null?void 0:O.items)||((D=e==null?void 0:e.S2)==null?void 0:D.products)||[],s=r.find(M=>String(M==null?void 0:M.id)===String(n==null?void 0:n.offerId)),c=r.find(M=>M==null?void 0:M.isHero)||r.find(M=>String((M==null?void 0:M.role)||"").toLowerCase()==="hero"),d=s||(String(n==null?void 0:n.offerId).toLowerCase()==="hero"?c:null)||c||r[0]||{name:"Product Name"},g=((W=o.palette)==null?void 0:W.primary)||"#FF5733",m=((a=o.palette)==null?void 0:a.accent)||"#FFFFFF",p=(($=o.rules)==null?void 0:$.mood)||"Authentic",b=t.archetype||"Regular Guy",x=Qa[n.format]||Qa.post,v=n.format==="reel"||n.format==="video",T=`[CONTROL]
Follow instructions strictly.
Do not improvise.
Do not change style, palette, framing or tone.
If conflict exists, obey this block.`,I=v?`[OUTPUT]
Generate:
- 1 main video asset (${n.duration||"6-8s"})
- 1 thumbnail frame
- High motion fidelity`:`[OUTPUT]
Generate:
- 1 main asset
- 1 variation (close-up)
- 1 backup version (wider shot)`,F=`[FORMAT]
Channel: ${x.channel}
Aspect ratio: ${x.aspect}
Resolution: ${x.res}
Safe zones: ${x.safe}`,G=`[VISUAL DIRECTION]
Subject: ${d.name} (${n.visual_style||"Hero Shot"})
Camera: ${v?"Smooth tracking / Dolly":"Documentary / Editorial"}
Lighting: ${p} lighting, ${i.photoStyle||"soft shadows, no harsh studio glare"}
Composition: Geometric balance, rule of thirds
Background: Clean, ${((V=o.palette)==null?void 0:V.background)||"Dark/Neutral"}
Color accent: ${g} (Subtle usage)
Mood: ${p}
Vibe: ${((B=i.visualVibes)==null?void 0:B.join(", "))||"Modern"}
Archetype: ${b}
Key Elements: ${((X=i.keyElements)==null?void 0:X.join(", "))||"N/A"}`,U=`[GRAPHIC LAYER]
Subtle graphic elements only
Use brand accent color (${m})
Minimal lines or blocks
No heavy typography
Respect safe zones`,q=`[EDITING & MOTION]
${v?`Pace: Natural
Cuts: Max 1-2
Transitions: Invisible / Soft
Motion style: Documentary + Modern
No flashy effects`:"N/A (Static Image)"}`,w=`[VOICE & SOUND]
${v?`Voice: Casual, Natural
Tone: Friendly, non-advertising
Music: ${i.musicalStyle||"Low, warm groove"}
Ambient sound: Enabled`:"N/A (Silent)"}`,H=`[COPY]
Hook: "${n.headline||"Short hook here"}"
CTA: "${n.cta||"Learn More"}"
No long sentences
No marketing buzzwords`,Y=`[RESTRICTIONS]
No AI-looking visuals
No luxury style (unless specified)
No stock feeling
No blur
No watermark
No exaggerated contrast
No heavy filters
DO NOT USE: ${((Z=i.prohibitedElements)==null?void 0:Z.join(", "))||"N/A"}`;return`${T}

${I}

${F}

${G}

${U}

${q}

${w}

${H}

${Y}`}function Cr(n,e){var p,b,x,v,T,I,F,G,U,q;const t=((p=e==null?void 0:e.S1)==null?void 0:p.fields)||{},o=(e==null?void 0:e.S5)||{},i=((b=e==null?void 0:e.S2)==null?void 0:b.items)||((x=e==null?void 0:e.S2)==null?void 0:x.products)||[],r=i.find(w=>String(w==null?void 0:w.id)===String(n==null?void 0:n.offerId)),s=i.find(w=>w==null?void 0:w.isHero)||i.find(w=>String((w==null?void 0:w.role)||"").toLowerCase()==="hero"),c=r||(String(n==null?void 0:n.offerId).toLowerCase()==="hero"?s:null)||s||i[0]||{name:"Produto Principal"},d=((v=o.palette)==null?void 0:v.primary)||"#FF5733",g=t.archetype||"O Cara Comum",m=n.format==="reel"||n.format==="video";return`# ðŸ“˜ GUIA DE PRODUÃ‡ÃƒO â€” ${((T=n.initiative)==null?void 0:T.toUpperCase())||"NOVA INICIATIVA"}

## 1ï¸âƒ£ ANTES DE ABRIR O SOFTWARE
- **Canal:** ${(I=n.format)==null?void 0:I.toUpperCase()}
- **Ativo:** ${c.name}
- **Objetivo:** ${n.objective||"ConversÃ£o / Vendas"}
- **Sentimento:** ${((F=o.rules)==null?void 0:F.mood)||"AutÃªntico"}

---

## 2ï¸âƒ£ GUIA DE ESTILO VISUAL
### ðŸ“· Imagem / Cena
- Estilo: **${g}** (Documental, Real, PrÃ³ximo)
- Nada de estÃ©tica publicitÃ¡ria ou banco de imagem.
- Parece conteÃºdo nativo, nÃ£o anÃºncio.

### ðŸŽ¨ Cores
- Fundo: ${((G=o.palette)==null?void 0:G.background)||"Neutro/Escuro"}
- Destaque: **${d}** (Usar com parcimÃ´nia)
- Texto: Contraste alto e legÃ­vel.

### ðŸ§© ComposiÃ§Ã£o
1. **${c.name}** (Hero)
2. Ambiente/Clima
3. Detalhe grÃ¡fico (${d})
4. Texto: "${n.headline||"Headline"}"

---

## ${m?"3ï¸âƒ£ GUIA PARA VÃDEO (REEL/TIKTOK)":"3ï¸âƒ£ GUIA PARA DESIGNER (ESTÃTICO)"}

${m?`### ðŸŽ¬ Roteiro ObrigatÃ³rio
**CENA 1 (HOOK 1-2s):**
- SituaÃ§Ã£o real ou close do produto. Sem logo/intro.
- AÃ§Ã£o: ${n.visual_style||"Movimento de impacto"}

**CENA 2 (CONTEXTO 2-3s):**
- Mostre o problema ou clima de uso.

**CENA 3 (SOLUÃ‡ÃƒO 2-3s):**
- ${c.name} resolve a situaÃ§Ã£o.
- Close no benefÃ­cio.

**CENA 4 (FECHAMENTO):**
- CTA Claro: "${n.cta||"Saiba Mais"}"

### ðŸŽžï¸ Ritmo & Ãudio
- MÃºsica: Baixa, warm groove. Nada Ã©pico.
- Voz: Casual. "Conversa de bar", nÃ£o locutor.
- Cortes: MÃ¡ximo 3. Suaves.`:`### ðŸŽ¨ Regras de Arte
- **Clean:** Nada de poluiÃ§Ã£o visual.
- **Tipografia:** ${((q=(U=o.typography)==null?void 0:U.h1)==null?void 0:q.font)||"Sans Serif"}. Sem sombras pesadas.
- **GrÃ¡ficos:** Linhas simples e blocos retos.
- **Texto:** Curto. MÃ¡ximo 6 palavras na headline.`}

---

## 4ï¸âƒ£ ERROS QUE INVALIDAM A PEÃ‡A âŒ
- ( ) Visual de banco de imagem
- ( ) Cara de propaganda de TV
- ( ) Efeitos/TransiÃ§Ãµes exagerados
- ( ) Texto longo demais
- ( ) Fugiu do tom **${g}**

---

## 5ï¸âƒ£ CHECKLIST FINAL
- [ ] Isso parece real?
- [ ] Isso parece humano?
- [ ] Isso parece algo que eu veria no meu feed?

**Editor nÃ£o cria. Editor executa.**`}const at=800,re={model:{openai:"gpt-4o",anthropic:"claude-3-5-sonnet-20241022",gemini:"gemini-2.0-flash"},maxTokens:2e3,temperature:.7},Pr="",ot={openai:"https://api.openai.com/v1/chat/completions",anthropic:"https://api.anthropic.com/v1/messages",gemini:"https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent"};class Er{constructor(){this.provider="local_rule_engine"}detectProviderFromKey(e){return e?e.startsWith("AIzaSy")?"gemini":e.startsWith("sk-ant-")?"anthropic":e.startsWith("sk-")?"openai":null:null}getAIConfig(){const e=localStorage.getItem("bravvo_ai_config");if(e)try{const t=JSON.parse(e),o=this.detectProviderFromKey(t.apiKey);return o&&o!==t.provider&&(console.warn(`Provider mismatch: stored=${t.provider}, detected=${o}. Using detected.`),t.provider=o,this.saveAIConfig(t)),t}catch{console.warn("ConfiguraÃ§Ã£o de IA invÃ¡lida, usando padrÃ£o.")}return{provider:"gemini",apiKey:Pr,model:re.model.gemini}}saveAIConfig(e){localStorage.setItem("bravvo_ai_config",JSON.stringify(e))}isAIConfigured(){const e=this.getAIConfig();return e&&e.apiKey&&e.apiKey.length>10}async callOpenAI(e,t){var r,s,c;const o=await fetch(ot.openai,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({model:re.model.openai,messages:[{role:"system",content:"VocÃª Ã© um assistente de marketing estratÃ©gico. Sempre responda em JSON vÃ¡lido."},{role:"user",content:e}],max_tokens:re.maxTokens,temperature:re.temperature})});if(!o.ok){const d=await o.json().catch(()=>({}));throw new Error(((r=d.error)==null?void 0:r.message)||`OpenAI API Error: ${o.status}`)}return(c=(s=(await o.json()).choices[0])==null?void 0:s.message)==null?void 0:c.content}async callAnthropic(e,t){var r,s;const o=await fetch(ot.anthropic,{method:"POST",headers:{"Content-Type":"application/json","x-api-key":t,"anthropic-version":"2023-06-01","anthropic-dangerous-direct-browser-access":"true"},body:JSON.stringify({model:re.model.anthropic,max_tokens:re.maxTokens,messages:[{role:"user",content:e}]})});if(!o.ok){const c=await o.json().catch(()=>({}));throw new Error(((r=c.error)==null?void 0:r.message)||`Anthropic API Error: ${o.status}`)}return(s=(await o.json()).content[0])==null?void 0:s.text}async callGemini(e,t){var s,c,d,g,m;const o=`${ot.gemini}?key=${t}`,i=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`${e}

IMPORTANTE: Responda APENAS com JSON vÃ¡lido. NÃ£o use blocos de cÃ³digo markdown.`}]}]})});if(!i.ok){const p=await i.json().catch(()=>({}));throw new Error(((s=p.error)==null?void 0:s.message)||`Gemini API Error: ${i.status} - ${((c=p.error)==null?void 0:c.status)||""}`)}return(m=(g=(d=(await i.json()).candidates[0])==null?void 0:d.content)==null?void 0:g.parts[0])==null?void 0:m.text}async testAIConnection(e,t){try{const o='Responda apenas com: {"status": "ok"}';let i;if(e==="openai")i=await this.callOpenAI(o,t);else if(e==="anthropic")i=await this.callAnthropic(o,t);else if(e==="gemini")i=await this.callGemini(o,t);else throw new Error("Provedor de IA nÃ£o suportado");return{success:!0,message:"ConexÃ£o estabelecida com sucesso!"}}catch(o){return{success:!1,message:o.message}}}async generateVaultContent(e,t={},o="all"){const i=this.getAIConfig(),r=e.toLowerCase(),c={s1:{fields:["clientName","niche","tagline","scope","location","promise","enemy","brandValues","audienceAge","audienceClass","audiencePain","archetype","tone","mood","bio"],context:"Identidade da Marca, Nicho e PÃºblico"},s2:{fields:["products","currentTicket","targetTicket","currentRevenue"],context:"Oferta, Produtos e Financeiro"},s3:{fields:["trafficSource","trafficVolume","conversionRate","ctas"],context:"Funil de Vendas e TrÃ¡fego"},s4:{fields:["postingFrequency","bestDays","bestTimes","cycleDuration","stakeholders"],context:"OperaÃ§Ã£o e Rotina"},s5:{fields:["ideas","notepad"],context:"Banco de Ideias e AnotaÃ§Ãµes"}}[r];if(!c)throw new Error(`Vault ${e} desconhecido`);let d=c.fields;if(o==="empty"&&(d=c.fields.filter(m=>{const p=t[m];return p==null||p===""||Array.isArray(p)&&p.length===0}),d.length===0))return{};const g=`
VocÃª Ã© um especialista em Branding e NegÃ³cios.
Sua tarefa Ã© preencher os campos do formulÃ¡rio "${c.context}" (Vault ${e.toUpperCase()}).

MODO: ${o==="all"?"CRIATIVO (Sugerir conceito completo)":"COMPLETAR (Preencher lacunas mantendo coerÃªncia)"}

DADOS ATUAIS (Contexto):
${JSON.stringify(t,null,2)}

CAMPOS A PREENCHER (Gere conteÃºdo para estes campos):
${d.join(", ")}

DIRETRIZES:
1. Mantenha coerÃªncia total com os dados jÃ¡ existentes (ex: se Nicho Ã© 'Pizzaria', nÃ£o sugira 'Vender Sapatos').
2. Se o campo for 'clientName' e estiver vazio, invente um nome criativo.
3. Se 'scope' for vazio, assuma 'local' se nÃ£o houver dicas contrÃ¡rias.
4. Para campos de lista (arrays), retorne um array JSON.

Responda APENAS com um JSON contendo os campos solicitados:
{
    "${d[0]}": "..."
}
`;try{let m="";if(i.provider==="openai"){const b=await(await fetch(ot.openai,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i.apiKey}`},body:JSON.stringify({model:i.model||"gpt-4o",messages:[{role:"user",content:g}],temperature:.7,response_format:{type:"json_object"}})})).json();if(b.error)throw new Error(b.error.message);m=b.choices[0].message.content}else if(i.provider==="gemini")m=await this.callGemini(g,i.apiKey);else if(i.provider==="anthropic")throw new Error("Anthropic nÃ£o implementado para Inspire Me ainda.");return JSON.parse(m)}catch(m){throw console.error("Erro no Inspire Me:",m),m}}extractVaultsData(e,t=[],o=null,i=[]){var r,s,c,d,g,m,p,b,x,v,T,I,F,G,U,q,w,H,Y,N,O,D,W,a,$,V,B,X,Z,M,Ke,ee,qe,We,Je,Ye,ne,ie,ce,le,de,me,ue,pe,ge,he,fe,ye,Se,Ae,be,_e,ve,Te,Ce,Pe,Ee,xe,ke,we,Ne,Ie,Oe,Re,$e,Ve,Me,je,Le,Fe,De,Be,ze,Ge,Ue;return{currentKpis:t,brand:{name:((r=e==null?void 0:e.s1)==null?void 0:r.brandName)||((s=e==null?void 0:e.s1)==null?void 0:s.name)||((d=(c=e==null?void 0:e.S1)==null?void 0:c.fields)==null?void 0:d.brandName),voiceTone:((g=e==null?void 0:e.s1)==null?void 0:g.voiceTone)||((b=(p=(m=e==null?void 0:e.S1)==null?void 0:m.fields)==null?void 0:p.tone)==null?void 0:b.join(", ")),personality:((x=e==null?void 0:e.s1)==null?void 0:x.personality)||((I=(T=(v=e==null?void 0:e.S1)==null?void 0:v.fields)==null?void 0:T.personality)==null?void 0:I.join(", ")),differentials:((F=e==null?void 0:e.s1)==null?void 0:F.differentials)||((U=(G=e==null?void 0:e.S1)==null?void 0:G.fields)==null?void 0:U.differentials),colors:[(q=e==null?void 0:e.s1)==null?void 0:q.primaryColor,(w=e==null?void 0:e.s1)==null?void 0:w.accentColor].filter(Boolean),niche:((H=e==null?void 0:e.s1)==null?void 0:H.niche)||((N=(Y=e==null?void 0:e.S1)==null?void 0:Y.fields)==null?void 0:N.niche)||"Geral",scope:((O=e==null?void 0:e.s1)==null?void 0:O.scope)||((W=(D=e==null?void 0:e.S1)==null?void 0:D.fields)==null?void 0:W.scope)||"Local",location:((a=e==null?void 0:e.s1)==null?void 0:a.location)||((V=($=e==null?void 0:e.S1)==null?void 0:$.fields)==null?void 0:V.location)||"NÃ£o informado"},offer:{products:((B=e==null?void 0:e.s2)==null?void 0:B.products)||((Z=(X=e==null?void 0:e.S2)==null?void 0:X.fields)==null?void 0:Z.products)||[],currentTicket:((M=e==null?void 0:e.s2)==null?void 0:M.currentTicket)||((ee=(Ke=e==null?void 0:e.S2)==null?void 0:Ke.fields)==null?void 0:ee.avgTicket),targetTicket:((qe=e==null?void 0:e.s2)==null?void 0:qe.targetTicket)||((Je=(We=e==null?void 0:e.S2)==null?void 0:We.fields)==null?void 0:Je.targetTicket),currentRevenue:((Ye=e==null?void 0:e.s2)==null?void 0:Ye.currentRevenue)||((ie=(ne=e==null?void 0:e.S2)==null?void 0:ne.fields)==null?void 0:ie.monthlyRevenue)},funnel:{trafficSource:((ce=e==null?void 0:e.s3)==null?void 0:ce.trafficSource)||((de=(le=e==null?void 0:e.S3)==null?void 0:le.fields)==null?void 0:de.trafficSource),trafficVolume:((me=e==null?void 0:e.s3)==null?void 0:me.trafficVolume)||((pe=(ue=e==null?void 0:e.S3)==null?void 0:ue.fields)==null?void 0:pe.monthlyTraffic),ctas:((ge=e==null?void 0:e.s3)==null?void 0:ge.ctas)||((fe=(he=e==null?void 0:e.S3)==null?void 0:he.fields)==null?void 0:fe.ctas)||[],conversionRate:((ye=e==null?void 0:e.s3)==null?void 0:ye.conversionRate)||((Ae=(Se=e==null?void 0:e.S3)==null?void 0:Se.fields)==null?void 0:Ae.conversionRate),businessType:((be=e==null?void 0:e.s3)==null?void 0:be.businessType)||((ve=(_e=e==null?void 0:e.S3)==null?void 0:_e.fields)==null?void 0:ve.businessType)||"Digital",customMetrics:((Te=e==null?void 0:e.s3)==null?void 0:Te.customMetrics)||((Pe=(Ce=e==null?void 0:e.S3)==null?void 0:Ce.fields)==null?void 0:Pe.customMetrics)||[]},ops:{postingFrequency:((Ee=e==null?void 0:e.s4)==null?void 0:Ee.postingFrequency)||((ke=(xe=e==null?void 0:e.S4)==null?void 0:xe.fields)==null?void 0:ke.postingFrequency),bestDays:((we=e==null?void 0:e.s4)==null?void 0:we.bestDays)||((Ie=(Ne=e==null?void 0:e.S4)==null?void 0:Ne.fields)==null?void 0:Ie.bestDays)||[],bestTimes:((Oe=e==null?void 0:e.s4)==null?void 0:Oe.bestTimes)||(($e=(Re=e==null?void 0:e.S4)==null?void 0:Re.fields)==null?void 0:$e.bestTimes)||[],cycleDuration:((Ve=e==null?void 0:e.s4)==null?void 0:Ve.cycleDuration)||((je=(Me=e==null?void 0:e.S4)==null?void 0:Me.fields)==null?void 0:je.cycleDuration),stakeholders:((Le=e==null?void 0:e.s4)==null?void 0:Le.stakeholders)||((De=(Fe=e==null?void 0:e.S4)==null?void 0:Fe.fields)==null?void 0:De.stakeholders)||[]},ideas:{ideas:((Be=e==null?void 0:e.s5)==null?void 0:Be.ideas)||((ze=e==null?void 0:e.S5)==null?void 0:ze.ideas)||[],notepad:((Ge=e==null?void 0:e.s5)==null?void 0:Ge.notepad)||((Ue=e==null?void 0:e.S5)==null?void 0:Ue.notepad)},governance:o?{date:o.date||o.ts,kpis:o.kpis||{},currentKpis:t,decisions:o.decisions||[],score:o.score}:null,history:i}}buildPlanPrompt(e,t={strategy:50,lastGov:30,history:20}){var x,v;const{brand:o,offer:i,funnel:r,ops:s,ideas:c,governance:d,history:g}=e;let m="";d&&(m=`
### ÃšLTIMA GOVERNANÃ‡A (Peso ${t.lastGov}% - Alta RelevÃ¢ncia Recente):
Data: ${d.date?new Date(d.date).toLocaleDateString():"Recente"}
- Score Anterior: ${d.score||"N/A"}/100
- DecisÃµes Recentes: ${Array.isArray(d.decisions)?d.decisions.map(T=>T.text||T).join("; "):"Nenhuma"}
- Performance Imediata: ${JSON.stringify(d.kpis)}

IMPORTANTE: DÃª um peso de ${t.lastGov}% para corrigir ou continuar o que foi decidido aqui.
`);let p="";if(g&&g.length>0){const I=g.slice(0,3).map(F=>`- Ciclo de ${new Date(F.date).toLocaleDateString()}: Score ${F.score}`).join(`
`);p=`
### HISTÃ“RICO ANTERIOR (Peso ${t.history}% - PadrÃµes de Longo Prazo):
${I}
IMPORTANTE: DÃª um peso de ${t.history}% para identificar e reforÃ§ar padrÃµes que vÃªm funcionando (ou falhando) repetidamente nas semanas anteriores.
`}let b="";return o.scope&&o.scope.toLowerCase()!=="global"&&(b=`
### Contexto GeogrÃ¡fico:
- AbrangÃªncia: ${o.scope}
- LocalizaÃ§Ã£o Base: ${o.location}
IMPORTANTE: Como o negÃ³cio Ã© ${o.scope}, considere feriados, eventos e logÃ­stica especÃ­ficos da regiÃ£o de ${o.location}.
`),`VocÃª Ã© um Strategist AI (Bravvo OS). Sua missÃ£o Ã© gerar um plano tÃ¡tico com a seguinte PONDERAÃ‡ÃƒO RÃGIDA de fontes de informaÃ§Ã£o:
1. ${t.strategy}% ESTRATÃ‰GIA ATUAL (Vaults): O DNA da marca, oferta e recursos atuais.
2. ${t.lastGov}% ÃšLTIMA GOVERNANÃ‡A: CorreÃ§Ãµes imediatas e momentum da semana passada.
3. ${t.history}% HISTÃ“RICO: TendÃªncias de mÃ©dio prazo.

Analise os dados abaixo e gere:
1. Um plano de aÃ§Ã£o tÃ¡tico com 5-10 tarefas especÃ­ficas para o prÃ³ximo ciclo (semanal).
2. Os 3-5 KPIs mais importantes para esse negÃ³cio monitorar.
3. Uma recomendaÃ§Ã£o estratÃ©gica geral baseada na ponderaÃ§Ã£o acima.

## 0. PLACAR ATUAL (RelevÃ¢ncia CrÃ­tica - SituaÃ§Ã£o Real)
${(e.currentKpis||[]).map(T=>`- ${T.label}: ${T.value}`).join(`
`)}

## 1. ESTRATÃ‰GIA ATUAL (Vaults - Peso ${t.strategy}%)

### S1 - Marca:
- Nome: ${(o==null?void 0:o.name)||"NÃ£o informado"}
- Nicho: ${(o==null?void 0:o.niche)||"Geral"}
- Tom de Voz: ${(o==null?void 0:o.voiceTone)||"NÃ£o informado"}
- Personalidade: ${(o==null?void 0:o.personality)||"NÃ£o informado"}
- Diferenciais: ${(o==null?void 0:o.differentials)||"NÃ£o informado"}
- Cores: ${((x=o==null?void 0:o.colors)==null?void 0:x.join(", "))||"NÃ£o informado"}
${b}

### S2 - Oferta:
- Produtos/ServiÃ§os: ${JSON.stringify((i==null?void 0:i.products)||[])}
- Ticket MÃ©dio Atual: R$ ${(i==null?void 0:i.currentTicket)||"NÃ£o informado"}
- Ticket Objetivo: R$ ${(i==null?void 0:i.targetTicket)||"NÃ£o informado"}
- Faturamento Atual: R$ ${(i==null?void 0:i.currentRevenue)||"NÃ£o informado"}

### S3 - Funil de Vendas:
- Canal Principal de TrÃ¡fego: ${(r==null?void 0:r.trafficSource)||"NÃ£o informado"}
- Volume Estimado de Visitas: ${(r==null?void 0:r.trafficVolume)||"NÃ£o informado"}
- CTAs Principais: ${Array.isArray(r==null?void 0:r.ctas)?r.ctas.join(", "):(r==null?void 0:r.ctas)||"NÃ£o informado"}
- Taxa de ConversÃ£o: ${(r==null?void 0:r.conversionRate)||"NÃ£o informado"}%
- Modelo de NegÃ³cio: ${(r==null?void 0:r.businessType)||"Digital"}
- KPIs do Funil: ${JSON.stringify((r==null?void 0:r.customMetrics)||[])}

### S4 - OperaÃ§Ã£o:
- FrequÃªncia de Postagem: ${(s==null?void 0:s.postingFrequency)||"NÃ£o informado"}
- Melhores Dias: ${Array.isArray(s==null?void 0:s.bestDays)?s.bestDays.join(", "):(s==null?void 0:s.bestDays)||"NÃ£o informado"}
- Melhores HorÃ¡rios: ${Array.isArray(s==null?void 0:s.bestTimes)?s.bestTimes.join(", "):(s==null?void 0:s.bestTimes)||"NÃ£o informado"}
- DuraÃ§Ã£o do Ciclo: ${(s==null?void 0:s.cycleDuration)||7} dias
- Equipe/Stakeholders: ${JSON.stringify((s==null?void 0:s.stakeholders)||[])}

### S5 - Banco de Ideias:
- Ideias Registradas: ${((v=c==null?void 0:c.ideas)==null?void 0:v.map(T=>T.title||T.text||T).join(", "))||"Nenhuma"}

${m}

${p}

## InstruÃ§Ãµes de SaÃ­da:
Responda APENAS com o seguinte JSON (sem markdown):
- Notas EstratÃ©gicas: ${(c==null?void 0:c.notepad)||"Nenhuma"}

---

IMPORTANTE: Responda APENAS com um JSON vÃ¡lido, sem markdown, sem explicaÃ§Ãµes adicionais. Use este formato exato:

{
  "tasks": [
    {
      "title": "TÃ­tulo da tarefa",
      "description": "DescriÃ§Ã£o detalhada do que fazer",
      "priority": "high",
      "category": "ConteÃºdo",
      "estimatedHours": 2
    }
  ],
  "kpis": [
    {
      "name": "Nome do KPI",
      "target": "Meta especÃ­fica (ex: 1000 seguidores)",
      "frequency": "weekly",
      "rationale": "Por que esse KPI Ã© importante"
    }
  ],
  "recommendation": "RecomendaÃ§Ã£o estratÃ©gica geral em 2-3 frases."
}`}parseAIResponse(e){let t=e.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim();try{const o=JSON.parse(t);return(!o.tasks||!Array.isArray(o.tasks))&&(o.tasks=[]),(!o.kpis||!Array.isArray(o.kpis))&&(o.kpis=[]),o.recommendation||(o.recommendation=""),o}catch(o){throw console.error("Erro ao parsear resposta da IA:",o),console.log("Resposta bruta recebida:",e),new Error("A resposta da IA nÃ£o estÃ¡ em formato JSON vÃ¡lido.")}}async generatePlanWithAI(e,t=[],o=null,i=[],r=null){if(!this.isAIConfigured())throw new Error("AI not configured");const s=this.extractVaultsData(e,t,o,i),c=this.buildPlanPrompt(s,r||this.getWeights());console.log("Generating plan with AI...",this.provider);let d;if(config.provider==="openai")d=await this.callOpenAI(c,config.apiKey);else if(config.provider==="anthropic")d=await this.callAnthropic(c,config.apiKey);else if(config.provider==="gemini")d=await this.callGemini(c,config.apiKey);else throw new Error("Provedor de IA nÃ£o suportado");return this.parseAIResponse(d)}async generateCreativeBrief(e,t){await new Promise(o=>setTimeout(o,at));try{return{success:!0,data:vr(e,t),metadata:{engine:"Bravvo IDF v1.0",tokens:0,latency:at}}}catch(o){return console.error("Erro na geraÃ§Ã£o de IA:",o),{success:!1,error:"Falha ao gerar inteligÃªncia. Tente novamente."}}}async generateGovernanceConclusion(e){const t=this.getAIConfig();if(!t||!t.apiKey)return null;const o=`
Contexto: VocÃª Ã© um consultor executivo analisando a ata de uma reuniÃ£o de governanÃ§a semanal.
Dados da ReuniÃ£o:
- Data: ${new Date().toLocaleDateString()}
- Score de ExecuÃ§Ã£o: ${e.score}/100
- KPIs Batidos: ${JSON.stringify(e.kpis)}
- DecisÃµes Tomadas: ${JSON.stringify(e.decisions)}

InstruÃ§Ã£o:
1. Analise o desempenho.
2. Gere uma "ConclusÃ£o Executiva" (max 3 frases) em tom profissional e direto.
3. Liste 3 "PrÃ³ximos Passos" crÃ­ticos para a equipe focar na prÃ³xima semana.

Responda APENAS com este JSON:
{
    "conclusion_summary": "Texto da conclusÃ£o...",
    "next_steps": ["Passo 1", "Passo 2", "Passo 3"]
}
        `;let i;if(t.provider==="openai")i=await this.callOpenAI(o,t.apiKey);else if(t.provider==="anthropic")i=await this.callAnthropic(o,t.apiKey);else if(t.provider==="gemini")i=await this.callGemini(o,t.apiKey);else return null;try{return JSON.parse(i.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim())}catch(r){return console.error("Erro ao parsear conclusÃ£o:",r),{conclusion_summary:"AnÃ¡lise automÃ¡tica indisponÃ­vel.",next_steps:[]}}}async askVault(e,t){var r,s;return await new Promise(c=>setTimeout(c,at)),{role:"assistant",content:`Baseado no seu tom de voz ${(((s=(r=t==null?void 0:t.S1)==null?void 0:r.fields)==null?void 0:s.tone)||["Neutro"]).join("/")}, eu responderia: ...`}}async generateBrandTheme(e){var c;const t=this.getAIConfig();if(!t||!t.apiKey)throw new Error("API Key de IA nÃ£o configurada.");const o=this.extractVaultsData(e).brand;let i="";o.scope&&o.scope.toLowerCase()!=="global"&&(i=`
Contexto Local:
Esta Ã© uma marca ${o.scope} em ${o.location}. Considere a estÃ©tica local se relevante.
`);const r=`VocÃª Ã© um Diretor de Arte SÃªnior e Especialista em Branding.
Analise o DNA desta marca e crie uma identidade visual digital coesa para o sistema operacional da empresa.

## DNA da Marca
- Nome: ${o.name||"Empresa desconhecida"}
- Nicho: ${o.niche||"Geral"}
- Tom de Voz: ${o.voiceTone||"Neutro"}
- Personalidade: ${o.personality||"Profissional"}
- Diferenciais: ${o.differentials||"Qualidade"}
- Cores Existentes: ${((c=o.colors)==null?void 0:c.join(", "))||"Nenhuma"}
${i}

## Sua Tarefa
Gere um JSON com as cores e tipografia ideais para o Dashboard dessa marca.
As opÃ§Ãµes de fonte sÃ£o ESTRITAMENTE: 'Inter', 'Roboto', 'Open Sans', 'Lato', 'Montserrat', 'Playfair Display', 'Courier Prime'.

Responda APENAS com este JSON exato:
{
  "primaryColor": "#HEXCODE (Cor principal para textos, fundos escuros e headers)",
  "accentColor": "#HEXCODE (Cor vibrante para botÃµes, destaques e call-to-actions)",
  "fontFamily": "Nome Da Fonte (escolha da lista acima)",
  "reasoning": "Uma frase curta explicando a escolha estÃ©tica."
}`;let s;t.provider==="openai"?s=await this.callOpenAI(r,t.apiKey):t.provider==="anthropic"?s=await this.callAnthropic(r,t.apiKey):t.provider==="gemini"?s=await this.callGemini(r,t.apiKey):s=JSON.stringify({primaryColor:"#000000",accentColor:"#FF0000",fontFamily:"Inter",reasoning:"Fallback"});try{const d=s.replace(/```json\n?/g,"").replace(/```\n?/g,"").trim(),g=JSON.parse(d);return["Inter","Roboto","Open Sans","Lato","Montserrat","Playfair Display","Courier Prime"].includes(g.fontFamily)||(g.fontFamily="Inter"),g}catch(d){throw console.error("Erro ao parsear tema:",d),new Error("Falha ao gerar tema. Tente novamente.")}}}const xr=new Er;function Xa(n,e){const[t,o]=f.useState(()=>{if(typeof window>"u")return e;try{const r=window.localStorage.getItem(n);return r?JSON.parse(r):e}catch(r){return console.error(r),e}}),i=f.useCallback(r=>{try{o(s=>{const c=r instanceof Function?r(s):r;return typeof window<"u"&&window.localStorage.setItem(n,JSON.stringify(c)),c})}catch(s){console.error(s)}},[n]);return[t,i]}const sr=f.createContext(null);function kr({children:n}){const[e,t]=f.useState([]),o=f.useCallback(({title:r,description:s,type:c="success",duration:d=3e3,action:g=null})=>{const m=Date.now();t(p=>[...p,{id:m,title:r,description:s,type:c,duration:d,action:g}]),d>0&&setTimeout(()=>{t(p=>p.filter(b=>b.id!==m))},d)},[]),i=f.useCallback(r=>{t(s=>s.filter(c=>c.id!==r))},[]);return u.jsxs(sr.Provider,{value:{addToast:o},children:[n,u.jsx("div",{className:"fixed bottom-4 right-4 z-[200] flex flex-col gap-2 pointer-events-none","data-testid":"toast-container",children:e.map((r,s)=>u.jsxs("div",{"data-testid":`toast-${r.type}-${r.id}`,"data-toast-type":r.type,"data-toast-index":s,className:`
                            pointer-events-auto min-w-[300px] max-w-sm rounded-xl p-4 shadow-2xl border flex items-start gap-3 animate-slideUp
                            ${r.type==="success"?"bg-[#111] border-green-500/30 text-green-400":r.type==="error"?"bg-[#111] border-red-500/30 text-red-400":"bg-[#111] border-blue-500/30 text-blue-400"}
                        `,children:[r.type==="success"&&u.jsx(dr,{className:"shrink-0 mt-0.5",size:18}),r.type==="error"&&u.jsx(mr,{className:"shrink-0 mt-0.5",size:18}),r.type==="info"&&u.jsx(ur,{className:"shrink-0 mt-0.5",size:18}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-bold text-sm text-white",children:r.title}),r.description&&u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:r.description}),r.action&&u.jsx("button",{onClick:()=>{var c,d;(d=(c=r.action).onClick)==null||d.call(c),i(r.id)},className:"mt-2 text-xs font-bold text-white bg-white/10 hover:bg-white/20 px-3 py-1.5 rounded-lg transition-colors",children:r.action.label})]}),u.jsx("button",{onClick:()=>i(r.id),className:"text-gray-500 hover:text-white transition-colors",children:u.jsx(pr,{size:14})})]},r.id))})]})}function nr(){const n=f.useContext(sr);if(!n)throw new Error("useToast must be used within a ToastProvider");return n}const rt=1,wr=n=>!!n&&typeof n=="object"&&!Array.isArray(n),C=(n,e=[])=>Array.isArray(n)?n:e,S=(n,e={})=>wr(n)?n:e,P={APP_DATA:"bravvo_app_data",APP_DATA_BACKUP:"bravvo_app_data_backup",APP_DATA_SNAPSHOTS:"bravvo_app_data_snapshots",USER_PREFS:"bravvo_user_prefs",AUTH:"bravvo_auth_session"},Za=n=>{let e=2166136261;for(let t=0;t<n.length;t+=1)e^=n.charCodeAt(t),e=Math.imul(e,16777619);return(e>>>0).toString(16).padStart(8,"0")},He={clientName:"",workspacePrefs:{autoInspire:!1},vaults:{S1:{id:"S1",fields:{}},S2:{id:"S2",products:[],metrics:{},strategy:{},bait:{}},S3:{id:"S3",steps:[],channels:[],traffic:{},social:{},cta:{},metrics:{}},S4:{id:"S4",matrix:[],slas:{},owners:{},contacts:{},schedule:{},governanceCalendar:{},stakeholders:[],competitors:[]},S5:{id:"S5",palette:{},rules:{},ideas:[],references:[],notepad:"",brandAssets:{},brandIdentity:{}}},dashboard:{D1:[],D2:[],D3:[],D4:[],D5:[]},kpis:{revenue:{value:0,goal:0},traffic:{value:0,goal:0},sales:{value:0,goal:0}},measurementContract:{lastUpdate:"",cycle:{id:"",label:"",status:"active"},objectives:[],dashboardLayout:{topKpis:["revenue","sales","traffic"],secondaryKpis:[]},kpis:[{id:"revenue",label:"Receita",format:"currency",source:"manual",target:0,active:!0},{id:"traffic",label:"TrÃ¡fego",format:"decimal",source:"manual",target:0,active:!0},{id:"sales",label:"Vendas",format:"integer",source:"manual",target:0,active:!0}],auditLog:[]},creativeAssets:[],governanceHistory:[],promptHistory:[],customThemeEnabled:!1},Nr=()=>!!(typeof window<"u"&&window.__BRAVVO_TEST_MODE__===!0);class Ir{constructor(){this.driver="local_storage",this.pendingSaves=0,this.lastSaveAt=0,this.saveSequence=0,this.lastSaveOk=!0,this.lastSaveError="",this.saveQueue=Promise.resolve(),this.testMode=Nr(),this.testMode&&typeof window<"u"&&(window.__PENDING_SAVES__=this.pendingSaves,window.__LAST_SAVE_AT__=this.lastSaveAt,window.__SAVE_SEQ__=this.saveSequence,window.__LAST_SAVE_OK__=this.lastSaveOk,window.__LAST_SAVE_ERROR__=this.lastSaveError,window.__flushPersistence__=()=>this.flush())}updateDebugState(){!this.testMode||typeof window>"u"||(window.__PENDING_SAVES__=this.pendingSaves,window.__LAST_SAVE_AT__=this.lastSaveAt,window.__SAVE_SEQ__=this.saveSequence,window.__LAST_SAVE_OK__=this.lastSaveOk,window.__LAST_SAVE_ERROR__=this.lastSaveError)}markSaveStart(){this.pendingSaves+=1,this.updateDebugState()}markSaveEnd(){this.pendingSaves=Math.max(0,this.pendingSaves-1),this.lastSaveAt=Date.now(),this.saveSequence+=1,this.updateDebugState()}enqueueSaveCompletion(){this.saveQueue=this.saveQueue.then(()=>Promise.resolve().then(()=>this.markSaveEnd()))}flush(){return this.saveQueue}save(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(o){return console.error("Save failed:",o),!1}}load(e,t=null){try{const o=localStorage.getItem(e);return o?JSON.parse(o):t}catch(o){return console.error("Load failed:",o),t}}loadClientData(e=null,t=null){const o=m=>{if(!e)return m;const p=S(m,{});return typeof p.id=="string"&&p.id.trim()?p:{...p,id:e}},i=e?`${P.APP_DATA}:${e}`:null,r=i?this.load(i):null;if(r)return this.normalizeClientData(o(r));const s=e?`${P.APP_DATA_BACKUP}:${e}`:null,c=s?this.load(s):null;if(c)return this.normalizeClientData(o(c));const d=this.load(P.APP_DATA);if(e){if(d&&d.id===e)return this.normalizeClientData(o(d));const m=this.load(P.APP_DATA_BACKUP);return m&&m.id===e?this.normalizeClientData(o(m)):t?this.normalizeClientData(t):this.normalizeClientData(o(He))}if(d)return this.normalizeClientData(d);const g=this.load(P.APP_DATA_BACKUP);return g?this.normalizeClientData(g):t?this.normalizeClientData(t):this.normalizeClientData(He)}listClientIds(){try{const e=new Set;for(let t=0;t<localStorage.length;t+=1){const o=localStorage.key(t);o&&(o.startsWith(`${P.APP_DATA}:`)&&e.add(o.slice(`${P.APP_DATA}:`.length)),o.startsWith(`${P.APP_DATA_BACKUP}:`)&&e.add(o.slice(`${P.APP_DATA_BACKUP}:`.length)))}return Array.from(e).filter(Boolean).sort()}catch{return[]}}getSnapshots(e){if(!e)return[];const t=`${P.APP_DATA_SNAPSHOTS}:${e}`,o=this.load(t,[]);return Array.isArray(o)?o:[]}restoreSnapshot(e,t){var m,p;if(!e)return null;const i=this.getSnapshots(e).find(b=>(b==null?void 0:b.ts)===t);if(!(i!=null&&i.data))return null;const r=this.loadClientData(e),s=C((m=r==null?void 0:r.measurementContract)==null?void 0:m.auditLog),c=this.normalizeClientData({...i.data,id:e}),d=C((p=c==null?void 0:c.measurementContract)==null?void 0:p.auditLog),g=s.length?[...s,...d]:d;return c.measurementContract={...(c==null?void 0:c.measurementContract)||{},auditLog:g},this.saveClientData(c),c}createWorkspaceExport(e){if(!e)return"";const t=this.normalizeClientData({...this.loadClientData(e),id:e}),o=JSON.stringify(t),i=Za(o),r={type:"bravvo_workspace_export",version:1,exportedAt:new Date().toISOString(),clientId:e,schemaVersion:t.schemaVersion,checksum:i,payload:t};return JSON.stringify(r,null,2)}importWorkspaceExport(e,t,o={}){var b,x;if(!e)throw new Error("Missing clientId");const i=JSON.parse(t);if(!i||i.type!=="bravvo_workspace_export"||i.version!==1)throw new Error("Invalid export format");const r=S(i.payload,null);if(!r)throw new Error("Missing payload");const s=String(i.checksum||""),c=Za(JSON.stringify(r));if(s&&s!==c)throw new Error("Checksum mismatch");const d=this.loadClientData(e),g=C((b=d==null?void 0:d.measurementContract)==null?void 0:b.auditLog),m=this.normalizeClientData({...r,id:e,clientName:typeof o.clientName=="string"?o.clientName:r.clientName}),p=C((x=m==null?void 0:m.measurementContract)==null?void 0:x.auditLog);return m.measurementContract={...(m==null?void 0:m.measurementContract)||{},auditLog:g.length?[...g,...p]:p},this.saveClientData(m),m}exportClientData(e){const t=this.loadClientData(e);return JSON.stringify(this.normalizeClientData({...t,id:e}),null,2)}appendSnapshot(e,t){if(!e)return;const o=`${P.APP_DATA_SNAPSHOTS}:${e}`,i=this.load(o,[]),r=Array.isArray(i)?i:[],c=[{ts:new Date().toISOString(),data:t},...r].slice(0,5);this.save(o,c)}normalizeClientData(e){const t=S(e,{}),o=Number.isFinite(t.schemaVersion)?t.schemaVersion:0,i=o>=rt?t:this.migrateClientData(t,o),r=He,s={...r,...i,schemaVersion:rt,creativeAssets:C(i.creativeAssets||r.creativeAssets),vaults:{...S(r.vaults),...S(i.vaults)},dashboard:{...S(r.dashboard),...S(i.dashboard)},kpis:{...S(r.kpis),...S(i.kpis)},measurementContract:{...S(r.measurementContract),...S(i.measurementContract)}},c=S(s.vaults.S1,{}),d=S(s.vaults.S2,{}),g=S(s.vaults.S3,{}),m=S(s.vaults.S4,{}),p=S(s.vaults.S5,{}),b=S(s.workspacePrefs,{}),x=S(c.fields,{}),v=S(d.metrics,{}),T=S(d.strategy,{}),I=S(d.bait,{}),F=S(g.social,{}),G=S(g.cta,{}),U=S(g.traffic,{}),q=S(g.metrics,{}),w=S(m.slas,{}),H=S(m.owners,{}),Y=S(m.contacts,{}),N=S(m.schedule,{}),O=S(m.governanceCalendar,{}),D=S(p.palette,{}),W=S(p.rules,{}),a=S(p.brandIdentity,{}),$=S(s.measurementContract,{}),V=S($.dashboardLayout,{});return s.vaults={...s.vaults,S1:{...c,fields:{...x,tone:C(x.tone),values:C(x.values),brandValues:C(x.brandValues||x.values)}},S2:{...d,products:C(d.products),metrics:{...v},strategy:{...T},bait:{...I}},S3:{...g,steps:C(g.steps),channels:C(g.channels),social:{...F},cta:{...G},traffic:{...U},metrics:{...q}},S4:{...m,matrix:C(m.matrix),slas:{approval:w.approval||"24h",production:w.production||"48h",...w},owners:{content:H.content||"",traffic:H.traffic||"",support:H.support||"",...H},contacts:{emergency:Y.emergency||"",...Y},schedule:{frequency:N.frequency||"3x",bestDays:C(N.bestDays),bestTimes:C(N.bestTimes),startDate:N.startDate||"",cycleDuration:N.cycleDuration||"30",...N},governanceCalendar:{weekStartDay:Number.isFinite(O.weekStartDay)?O.weekStartDay:1,meetingWeekday:Number.isFinite(O.meetingWeekday)?O.meetingWeekday:1,monthlyMeetingDay:Number.isFinite(O.monthlyMeetingDay)?O.monthlyMeetingDay:1,...O},stakeholders:C(m.stakeholders),competitors:C(m.competitors)},S5:{...p,palette:{primary:D.primary||"#F97316",secondary:D.secondary||"#1E293B",accent:D.accent||"#10B981",...D},rules:{mood:W.mood||"moderno",...W},ideas:C(p.ideas),references:C(p.references),notepad:typeof p.notepad=="string"?p.notepad:"",brandAssets:{logos:[],textures:[],icons:[],postTemplates:[],...S(p.brandAssets)},brandIdentity:{musicalStyle:"",visualVibes:[],keyElements:[],prohibitedElements:[],colorMeanings:"",photoStyle:"",typographyNotes:"",fontFamily:typeof a.fontFamily=="string"?a.fontFamily:"Inter",...a}}},s.dashboard={...s.dashboard,D1:C(s.dashboard.D1),D2:C(s.dashboard.D2),D3:C(s.dashboard.D3),D4:C(s.dashboard.D4),D5:C(s.dashboard.D5)},s.governanceHistory=C(s.governanceHistory),s.promptHistory=C(s.promptHistory),s.workspacePrefs={autoInspire:typeof b.autoInspire=="boolean"?b.autoInspire:!1},s.measurementContract={...$,dashboardLayout:{...V,topKpis:C(V.topKpis),secondaryKpis:C(V.secondaryKpis)},kpis:C($.kpis),auditLog:C($.auditLog)},typeof s.customThemeEnabled!="boolean"&&(s.customThemeEnabled=!1),s}migrateClientData(e,t){const o={...S(e)};if((Number.isFinite(t)?t:0)<1){const r=S(o.vaults),s=S(r.S5);o.vaults={...r,S5:{...s,ideas:C(s.ideas),references:C(s.references),notepad:typeof s.notepad=="string"?s.notepad:"",brandAssets:S(s.brandAssets),brandIdentity:S(s.brandIdentity)}}}return o.schemaVersion=rt,o}saveClientData(e){const t=this.normalizeClientData(e);this.markSaveStart();const o=this.save(P.APP_DATA,t);return this.lastSaveOk=!!o,this.lastSaveError=o?"":"Save failed",t!=null&&t.id&&(this.save(`${P.APP_DATA}:${t.id}`,t),this.save(`${P.APP_DATA_BACKUP}:${t.id}`,t),this.appendSnapshot(t.id,t)),this.save(P.APP_DATA_BACKUP,t),this.enqueueSaveCompletion(),this.updateDebugState(),o}clearClientData(){localStorage.removeItem(P.APP_DATA),localStorage.removeItem(P.APP_DATA_BACKUP);try{for(let e=localStorage.length-1;e>=0;e-=1){const t=localStorage.key(e);t&&(t.startsWith(`${P.APP_DATA}:`)&&localStorage.removeItem(t),t.startsWith(`${P.APP_DATA_BACKUP}:`)&&localStorage.removeItem(t),t.startsWith(`${P.APP_DATA_SNAPSHOTS}:`)&&localStorage.removeItem(t))}}catch{}return this.normalizeClientData(He)}resetClientData(e,t={}){const o=typeof e=="string"&&e.trim()?e.trim():null,i=this.load(P.APP_DATA);(!o||i&&i.id===o)&&(localStorage.removeItem(P.APP_DATA),localStorage.removeItem(P.APP_DATA_BACKUP)),localStorage.removeItem("bravvo_form_data"),localStorage.removeItem("bravvo_meeting_state"),o&&(localStorage.removeItem(`${P.APP_DATA}:${o}`),localStorage.removeItem(`${P.APP_DATA_BACKUP}:${o}`),localStorage.removeItem(`${P.APP_DATA_SNAPSHOTS}:${o}`),localStorage.removeItem(`bravvo_form_data:${o}`),localStorage.removeItem(`bravvo_meeting_state:${o}`));const r=this.normalizeClientData({...He,id:o||void 0,clientName:typeof t.clientName=="string"?t.clientName:""});return this.save(P.APP_DATA,r),o&&(this.save(`${P.APP_DATA}:${o}`,r),this.save(`${P.APP_DATA_BACKUP}:${o}`,r),this.save(`${P.APP_DATA_SNAPSHOTS}:${o}`,[])),this.save(P.APP_DATA_BACKUP,r),r}}const se=new Ir,ir=f.createContext(),Or=({children:n,initialData:e,onSave:t})=>{const[o,i]=f.useState(()=>e?se.normalizeClientData(e):se.loadClientData());f.useEffect(()=>{e&&i(se.normalizeClientData(e))},[e]),f.useEffect(()=>{t&&t(o),se.saveClientData(o)},[o,t]);const r=(c,d)=>{i(g=>{var p;return{...g,vaults:{...(g==null?void 0:g.vaults)||{},[c]:{...((p=g==null?void 0:g.vaults)==null?void 0:p[c])||{},...d}}}})},s=(c,d)=>{i(g=>({...g,dashboard:{...(g==null?void 0:g.dashboard)||{},[c]:d}}))};return u.jsx(ir.Provider,{value:{appData:o,setAppData:i,updateVault:r,updateDashboard:s},children:n})},Rr=()=>f.useContext(ir),$r=f.lazy(()=>K(()=>import("./BinderLayout-bIW6yCH1.js"),__vite__mapDeps([0,1,2])).then(n=>({default:n.BinderLayout}))),Vr=f.lazy(()=>K(()=>import("./PageBrand-DxX3k5o_.js"),__vite__mapDeps([3,1,2,4])).then(n=>({default:n.PageBrand}))),Mr=f.lazy(()=>K(()=>import("./PageOffer-t9PS-vrs.js"),__vite__mapDeps([5,1,2,4])).then(n=>({default:n.PageOffer}))),jr=f.lazy(()=>K(()=>import("./PageFunnel-CPNsZgSh.js"),__vite__mapDeps([6,1,2,4])).then(n=>({default:n.PageFunnel}))),Lr=f.lazy(()=>K(()=>import("./PageOps-D8WjwUh3.js"),__vite__mapDeps([7,1,2,4])).then(n=>({default:n.PageOps}))),Fr=f.lazy(()=>K(()=>import("./PageIdeas-CeDx2qX0.js"),__vite__mapDeps([8,1,2,4])).then(n=>({default:n.PageIdeas}))),Dr=f.lazy(()=>K(()=>import("./OnePageDashboard-xDbiwyey.js"),__vite__mapDeps([9,1,2])).then(n=>({default:n.OnePageDashboard}))),er=f.lazy(()=>K(()=>import("./LandingPage-B8lg-HTE.js"),__vite__mapDeps([10,1,2])).then(n=>({default:n.LandingPage}))),Br=f.lazy(()=>K(()=>import("./LoginScreen-gV60LEIM.js"),__vite__mapDeps([11,1,2])).then(n=>({default:n.LoginScreen}))),zr=f.lazy(()=>K(()=>import("./AgencyDashboard-fKIQDP2B.js"),__vite__mapDeps([12,1,2])).then(n=>({default:n.AgencyDashboard}))),Gr=f.lazy(()=>K(()=>import("./MasterDashboard-BQChqcRl.js"),__vite__mapDeps([13,1,2])).then(n=>({default:n.MasterDashboard})));function Ur({onBackToAgency:n,isAgencyView:e,initialData:t,onSave:o,currentUser:i,isWorkspaceLoading:r}){var c;const s=(t==null?void 0:t.id)||((c=i==null?void 0:i.client)==null?void 0:c.id)||null;return u.jsx(Or,{initialData:t,onSave:o,children:u.jsx(Hr,{onBackToAgency:n,isAgencyView:e,currentUser:i,clientId:s,isWorkspaceLoading:r})},s||"client")}function Hr({onBackToAgency:n,isAgencyView:e,currentUser:t,clientId:o,isWorkspaceLoading:i}){var ne,ie,ce,le,de,me,ue,pe,ge,he,fe,ye,Se,Ae,be,_e,ve,Te,Ce,Pe,Ee,xe,ke,we,Ne,Ie,Oe,Re,$e,Ve,Me,je,Le,Fe,De,Be,ze,Ge,Ue,nt,it,ct,lt,dt,mt,ut,pt,gt,ht,ft,yt,St,At,bt,_t,vt,Tt,Ct,Pt,Et,xt,kt,wt,Nt,It,Ot,Rt,$t,Vt,Mt,jt,Lt,Ft,Dt,Bt,zt,Gt,Ut,Ht,Kt,qt,Wt,Jt,Yt,Qt,Xt,Zt,eo,to,oo,ao,ro,so,no,io,co,lo,mo,uo,po,go,ho,fo,yo,So,Ao,bo,_o,vo,To,Co,Po,Eo,xo,ko,wo,No,Io,Oo,Ro,$o,Vo,Mo,jo,Lo,Fo,Do,Bo,zo,Go,Uo,Ho,Ko,qo,Wo,Jo,Yo,Qo,Xo,Zo,ea,ta,oa,aa,ra,sa,na,ia,ca,la,da,ma,ua,pa,ga,ha,fa,ya,Sa,Aa,ba,_a,va,Ta,Ca;const{addToast:r}=nr(),[s,c]=f.useState("dashboard"),[d,g]=f.useState("D2"),[m,p]=f.useState(null),[b,x]=f.useState(!1),[v,T]=f.useState("ai"),[I,F]=f.useState(null),[G,U]=f.useState(!1),[q,w]=f.useState([]),[H,Y]=Xa(`bravvo_meeting_state:${o||"default"}`,{active:!1,comments:{general:"",revenue:"",traffic:"",sales:""}}),[N,O]=f.useState("OS"),[D,W]=f.useState(["V1","V2","V3","V4","V5"]),{appData:a,setAppData:$}=Rr(),[V,B]=Xa(`bravvo_form_data:${o||"default"}`,{clientName:a.clientName||"",niche:((ce=(ie=(ne=a==null?void 0:a.vaults)==null?void 0:ne.S1)==null?void 0:ie.fields)==null?void 0:ce.niche)||"gastronomia",tagline:((me=(de=(le=a==null?void 0:a.vaults)==null?void 0:le.S1)==null?void 0:de.fields)==null?void 0:me.tagline)||"",promise:((ge=(pe=(ue=a==null?void 0:a.vaults)==null?void 0:ue.S1)==null?void 0:pe.fields)==null?void 0:ge.promise)||"",enemy:((ye=(fe=(he=a==null?void 0:a.vaults)==null?void 0:he.S1)==null?void 0:fe.fields)==null?void 0:ye.enemy)||"",brandValues:((be=(Ae=(Se=a==null?void 0:a.vaults)==null?void 0:Se.S1)==null?void 0:Ae.fields)==null?void 0:be.brandValues)||((Te=(ve=(_e=a==null?void 0:a.vaults)==null?void 0:_e.S1)==null?void 0:ve.fields)==null?void 0:Te.values)||[],audienceAge:((Ee=(Pe=(Ce=a==null?void 0:a.vaults)==null?void 0:Ce.S1)==null?void 0:Pe.fields)==null?void 0:Ee.audienceAge)||"25-34",audienceGender:((we=(ke=(xe=a==null?void 0:a.vaults)==null?void 0:xe.S1)==null?void 0:ke.fields)==null?void 0:we.audienceGender)||"todos",audienceClass:((Oe=(Ie=(Ne=a==null?void 0:a.vaults)==null?void 0:Ne.S1)==null?void 0:Ie.fields)==null?void 0:Oe.audienceClass)||"bc",audiencePain:((Ve=($e=(Re=a==null?void 0:a.vaults)==null?void 0:Re.S1)==null?void 0:$e.fields)==null?void 0:Ve.audiencePain)||"",archetype:((Le=(je=(Me=a==null?void 0:a.vaults)==null?void 0:Me.S1)==null?void 0:je.fields)==null?void 0:Le.archetype)||"O Cara Comum",tone:((Be=(De=(Fe=a==null?void 0:a.vaults)==null?void 0:Fe.S1)==null?void 0:De.fields)==null?void 0:Be.tone)||"casual",mood:((Ue=(Ge=(ze=a==null?void 0:a.vaults)==null?void 0:ze.S5)==null?void 0:Ge.rules)==null?void 0:Ue.mood)||"moderno",primaryColor:((ct=(it=(nt=a==null?void 0:a.vaults)==null?void 0:nt.S5)==null?void 0:it.palette)==null?void 0:ct.primary)||"#F97316",secondaryColor:((mt=(dt=(lt=a==null?void 0:a.vaults)==null?void 0:lt.S5)==null?void 0:dt.palette)==null?void 0:mt.secondary)||"#1E293B",accentColor:((gt=(pt=(ut=a==null?void 0:a.vaults)==null?void 0:ut.S5)==null?void 0:pt.palette)==null?void 0:gt.accent)||"#10B981",bio:((yt=(ft=(ht=a==null?void 0:a.vaults)==null?void 0:ht.S1)==null?void 0:ft.fields)==null?void 0:yt.bio)||"",products:((At=(St=a==null?void 0:a.vaults)==null?void 0:St.S2)==null?void 0:At.products)||[],currentTicket:((vt=(_t=(bt=a==null?void 0:a.vaults)==null?void 0:bt.S2)==null?void 0:_t.metrics)==null?void 0:vt.currentTicket)||"",targetTicket:((Pt=(Ct=(Tt=a==null?void 0:a.vaults)==null?void 0:Tt.S2)==null?void 0:Ct.metrics)==null?void 0:Pt.targetTicket)||"",currentRevenue:((kt=(xt=(Et=a==null?void 0:a.vaults)==null?void 0:Et.S2)==null?void 0:xt.metrics)==null?void 0:kt.currentRevenue)||"",upsellStrategy:((It=(Nt=(wt=a==null?void 0:a.vaults)==null?void 0:wt.S2)==null?void 0:Nt.strategy)==null?void 0:It.upsell)||"none",saleFormat:(($t=(Rt=(Ot=a==null?void 0:a.vaults)==null?void 0:Ot.S2)==null?void 0:Rt.strategy)==null?void 0:$t.format)||"presencial",baitProduct:((jt=(Mt=(Vt=a==null?void 0:a.vaults)==null?void 0:Vt.S2)==null?void 0:Mt.bait)==null?void 0:jt.product)||"",baitPrice:((Dt=(Ft=(Lt=a==null?void 0:a.vaults)==null?void 0:Lt.S2)==null?void 0:Ft.bait)==null?void 0:Dt.price)||"",channels:((zt=(Bt=a==null?void 0:a.vaults)==null?void 0:Bt.S3)==null?void 0:zt.channels)||[],conversionLink:((Kt=(Ht=(Ut=(Gt=a==null?void 0:a.vaults)==null?void 0:Gt.S3)==null?void 0:Ut.steps)==null?void 0:Ht.find(l=>l.step==="Desejo"))==null?void 0:Kt.goal)||"",instagramHandle:((Jt=(Wt=(qt=a==null?void 0:a.vaults)==null?void 0:qt.S3)==null?void 0:Wt.social)==null?void 0:Jt.instagram)||"",websiteUrl:((Xt=(Qt=(Yt=a==null?void 0:a.vaults)==null?void 0:Yt.S3)==null?void 0:Qt.social)==null?void 0:Xt.website)||"",primaryCTA:((to=(eo=(Zt=a==null?void 0:a.vaults)==null?void 0:Zt.S3)==null?void 0:eo.cta)==null?void 0:to.primary)||"whatsapp",secondaryCTA:((ro=(ao=(oo=a==null?void 0:a.vaults)==null?void 0:oo.S3)==null?void 0:ao.cta)==null?void 0:ro.secondary)||"saibamais",ctaText:((io=(no=(so=a==null?void 0:a.vaults)==null?void 0:so.S3)==null?void 0:no.cta)==null?void 0:io.text)||"",monthlyGoal:((mo=(lo=(co=a==null?void 0:a.vaults)==null?void 0:co.S3)==null?void 0:lo.metrics)==null?void 0:mo.monthlyGoal)||"",trafficType:((go=(po=(uo=a==null?void 0:a.vaults)==null?void 0:uo.S3)==null?void 0:po.traffic)==null?void 0:go.primarySource)||"Misto",utmCampaign:((yo=(fo=(ho=a==null?void 0:a.vaults)==null?void 0:ho.S3)==null?void 0:fo.traffic)==null?void 0:yo.utmCampaign)||"",currentConversion:((bo=(Ao=(So=a==null?void 0:a.vaults)==null?void 0:So.S3)==null?void 0:Ao.metrics)==null?void 0:bo.currentConversion)||"",targetConversion:((To=(vo=(_o=a==null?void 0:a.vaults)==null?void 0:_o.S3)==null?void 0:vo.metrics)==null?void 0:To.targetConversion)||"",cpl:((Eo=(Po=(Co=a==null?void 0:a.vaults)==null?void 0:Co.S3)==null?void 0:Po.metrics)==null?void 0:Eo.cpl)||"",approverName:((No=(wo=(ko=(xo=a==null?void 0:a.vaults)==null?void 0:xo.S4)==null?void 0:ko.matrix)==null?void 0:wo.find(l=>l.role==="Aprovador Final"))==null?void 0:No.who)||"",teamStructure:(($o=(Ro=(Oo=(Io=a==null?void 0:a.vaults)==null?void 0:Io.S4)==null?void 0:Oo.matrix)==null?void 0:Ro.find(l=>l.role==="Time"))==null?void 0:$o.who)||"Enxuta",slaHours:parseInt((jo=(Mo=(Vo=a==null?void 0:a.vaults)==null?void 0:Vo.S4)==null?void 0:Mo.slas)==null?void 0:jo.approval)||24,contentOwner:((Do=(Fo=(Lo=a==null?void 0:a.vaults)==null?void 0:Lo.S4)==null?void 0:Fo.owners)==null?void 0:Do.content)||"",trafficOwner:((Go=(zo=(Bo=a==null?void 0:a.vaults)==null?void 0:Bo.S4)==null?void 0:zo.owners)==null?void 0:Go.traffic)||"",supportOwner:((Ko=(Ho=(Uo=a==null?void 0:a.vaults)==null?void 0:Uo.S4)==null?void 0:Ho.owners)==null?void 0:Ko.support)||"",emergencyContact:((Jo=(Wo=(qo=a==null?void 0:a.vaults)==null?void 0:qo.S4)==null?void 0:Wo.contacts)==null?void 0:Jo.emergency)||"",postingFrequency:((Xo=(Qo=(Yo=a==null?void 0:a.vaults)==null?void 0:Yo.S4)==null?void 0:Qo.schedule)==null?void 0:Xo.frequency)||"3x",bestDays:((ta=(ea=(Zo=a==null?void 0:a.vaults)==null?void 0:Zo.S4)==null?void 0:ea.schedule)==null?void 0:ta.bestDays)||[],bestTimes:((ra=(aa=(oa=a==null?void 0:a.vaults)==null?void 0:oa.S4)==null?void 0:aa.schedule)==null?void 0:ra.bestTimes)||[],startDate:((ia=(na=(sa=a==null?void 0:a.vaults)==null?void 0:sa.S4)==null?void 0:na.schedule)==null?void 0:ia.startDate)||"",cycleDuration:((da=(la=(ca=a==null?void 0:a.vaults)==null?void 0:ca.S4)==null?void 0:la.schedule)==null?void 0:da.cycleDuration)||"30",stakeholders:((ua=(ma=a==null?void 0:a.vaults)==null?void 0:ma.S4)==null?void 0:ua.stakeholders)||[],competitors:((ga=(pa=a==null?void 0:a.vaults)==null?void 0:pa.S4)==null?void 0:ga.competitors)||[],ideas:((fa=(ha=a==null?void 0:a.vaults)==null?void 0:ha.S5)==null?void 0:fa.ideas)||[],references:((Sa=(ya=a==null?void 0:a.vaults)==null?void 0:ya.S5)==null?void 0:Sa.references)||[],notepad:((ba=(Aa=a==null?void 0:a.vaults)==null?void 0:Aa.S5)==null?void 0:ba.notepad)||"",governanceHistory:a.governanceHistory||[],brandAssets:((va=(_a=a==null?void 0:a.vaults)==null?void 0:_a.S5)==null?void 0:va.brandAssets)||{logos:[],textures:[],icons:[],postTemplates:[]},brandIdentity:((Ca=(Ta=a==null?void 0:a.vaults)==null?void 0:Ta.S5)==null?void 0:Ca.brandIdentity)||{musicalStyle:"",visualVibes:[],keyElements:[],prohibitedElements:[],colorMeanings:"",photoStyle:"",typographyNotes:""},customThemeEnabled:a.customThemeEnabled||!1,_schemaVersion:1});f.useEffect(()=>{var E,z,y,j;if(typeof document>"u")return;const l=document.documentElement,_=!!(a!=null&&a.customThemeEnabled),k=(z=(E=a==null?void 0:a.vaults)==null?void 0:E.S5)==null?void 0:z.palette,A=(j=(y=a==null?void 0:a.vaults)==null?void 0:y.S5)==null?void 0:j.brandIdentity;_?l.setAttribute("data-theme","custom"):l.removeAttribute("data-theme");const h=(L,te)=>{_&&typeof te=="string"&&te.trim()?l.style.setProperty(L,te.trim()):l.style.removeProperty(L)};h("--brand-primary",k==null?void 0:k.primary),h("--brand-secondary",k==null?void 0:k.secondary),h("--brand-accent",k==null?void 0:k.accent),h("--brand-font",A==null?void 0:A.fontFamily),_&&typeof(k==null?void 0:k.accent)=="string"&&k.accent.trim()?l.style.setProperty("--accent-purple",k.accent.trim()):l.style.removeProperty("--accent-purple")},[a]),f.useEffect(()=>{B(l=>{const _=L=>!!L&&typeof L=="object"&&!Array.isArray(L),k=_(l)?l:{};let A=!1;const h={...k};h._schemaVersion!==1&&(h._schemaVersion=1,A=!0),Array.isArray(h.brandValues)||(h.brandValues=[],A=!0),Array.isArray(h.channels)||(h.channels=[],A=!0),Array.isArray(h.products)||(h.products=[],A=!0),Array.isArray(h.bestDays)||(h.bestDays=[],A=!0),Array.isArray(h.bestTimes)||(h.bestTimes=[],A=!0),Array.isArray(h.stakeholders)||(h.stakeholders=[],A=!0),Array.isArray(h.competitors)||(h.competitors=[],A=!0),Array.isArray(h.ideas)||(h.ideas=[],A=!0),Array.isArray(h.references)||(h.references=[],A=!0),typeof h.notepad!="string"&&(h.notepad="",A=!0);const E=h.brandAssets,z={logos:Array.isArray(E==null?void 0:E.logos)?E.logos:[],textures:Array.isArray(E==null?void 0:E.textures)?E.textures:[],icons:Array.isArray(E==null?void 0:E.icons)?E.icons:[],postTemplates:Array.isArray(E==null?void 0:E.postTemplates)?E.postTemplates:[]};(!_(E)||z.logos!==E.logos||z.textures!==E.textures||z.icons!==E.icons||z.postTemplates!==E.postTemplates)&&(h.brandAssets=z,A=!0);const y=h.brandIdentity,j={musicalStyle:typeof(y==null?void 0:y.musicalStyle)=="string"?y.musicalStyle:"",visualVibes:Array.isArray(y==null?void 0:y.visualVibes)?y.visualVibes:[],keyElements:Array.isArray(y==null?void 0:y.keyElements)?y.keyElements:[],prohibitedElements:Array.isArray(y==null?void 0:y.prohibitedElements)?y.prohibitedElements:[],colorMeanings:typeof(y==null?void 0:y.colorMeanings)=="string"?y.colorMeanings:"",photoStyle:typeof(y==null?void 0:y.photoStyle)=="string"?y.photoStyle:"",typographyNotes:typeof(y==null?void 0:y.typographyNotes)=="string"?y.typographyNotes:""};return(!_(y)||j.musicalStyle!==y.musicalStyle||j.visualVibes!==y.visualVibes||j.keyElements!==y.keyElements||j.prohibitedElements!==y.prohibitedElements||j.colorMeanings!==y.colorMeanings||j.photoStyle!==y.photoStyle||j.typographyNotes!==y.typographyNotes)&&(h.brandIdentity=j,A=!0),A?h:l})},[B]);const X=f.useCallback(async l=>{x(!0);try{const _=await xr.generateCreativeBrief(l,a.vaults);if(!(_!=null&&_.success))throw new Error((_==null?void 0:_.error)||"Falha ao gerar o prompt.");const k=_.data;p(k),T("ai"),F(l),w(A=>[{id:Date.now(),item:(l==null?void 0:l.initiative)||"Item",timestamp:new Date().toLocaleTimeString(),prompt:k},...A.slice(0,9)])}catch(_){console.error("Prompt generation error:",_),r({title:"Falha ao gerar prompt",description:_ instanceof Error?_.message:"Tente novamente.",type:"error"})}finally{x(!1)}},[r,a.vaults]),Z=f.useCallback(async()=>{if(m){const l=v==="ai"?m.aiPrompt:m.humanGuide;await navigator.clipboard.writeText(l),U(!0),setTimeout(()=>U(!1),2e3),r({title:"Copiado para a Ã¡rea de transferÃªncia",type:"success",duration:2e3})}},[m,v,r]);f.useCallback((l,_={})=>{const{regeneratePlanIfEmpty:k=!1}=_;$(A=>{var Pa,Ea,xa,ka,wa,Na,Ia,Oa,Ra,$a,Va,Ma,ja,La,Fa,Da,Ba,za,Ga,Ua,Ha,Ka,qa,Wa;const h=(A==null?void 0:A.vaults)||{},E={...h.S1||{},fields:{...((Pa=h.S1)==null?void 0:Pa.fields)||{},niche:l.niche,tagline:l.tagline,promise:l.promise,enemy:l.enemy,tone:Array.isArray(l.tone)?l.tone:(l.tone||"").split(",").map(R=>R.trim()).filter(Boolean),archetype:l.archetype,audienceAge:l.audienceAge,audienceGender:l.audienceGender,audienceClass:l.audienceClass,audiencePain:l.audiencePain,bio:l.bio,brandValues:l.brandValues,values:l.brandValues}},z={...h.S2||{},products:l.products||[],metrics:{...((Ea=h.S2)==null?void 0:Ea.metrics)||{},currentTicket:l.currentTicket,targetTicket:l.targetTicket,currentRevenue:l.currentRevenue},strategy:{...((xa=h.S2)==null?void 0:xa.strategy)||{},upsell:l.upsellStrategy,format:l.saleFormat},bait:{...((ka=h.S2)==null?void 0:ka.bait)||{},product:l.baitProduct,price:l.baitPrice}},y=l.conversionLink,j=Array.isArray((wa=h.S3)==null?void 0:wa.steps)?h.S3.steps:[],L=j.length?j.map(R=>(R==null?void 0:R.step)==="Desejo"?{...R,goal:y}:R):[{step:"AtenÃ§Ã£o",kpi:"CPM",goal:"R$ 10,00"},{step:"Interesse",kpi:"CTR",goal:"2%"},{step:"Desejo",kpi:"Click Whatsapp",goal:y}],te={...h.S3||{},channels:l.channels||[],steps:L,social:{...((Na=h.S3)==null?void 0:Na.social)||{},instagram:l.instagramHandle,website:l.websiteUrl},cta:{...((Ia=h.S3)==null?void 0:Ia.cta)||{},primary:l.primaryCTA,secondary:l.secondaryCTA,text:l.ctaText},traffic:{...((Oa=h.S3)==null?void 0:Oa.traffic)||{},primarySource:l.trafficType,utmCampaign:l.utmCampaign},metrics:{...((Ra=h.S3)==null?void 0:Ra.metrics)||{},monthlyGoal:l.monthlyGoal,currentConversion:l.currentConversion,targetConversion:l.targetConversion,cpl:l.cpl}},oe={...h.S4||{},matrix:[{role:"Aprovador Final",who:l.approverName},{role:"Estrategista",who:((Ma=(Va=($a=h.S4)==null?void 0:$a.matrix)==null?void 0:Va.find(R=>R.role==="Estrategista"))==null?void 0:Ma.who)||"Bravvo Agent"},{role:"Time",who:l.teamStructure}],slas:{...((ja=h.S4)==null?void 0:ja.slas)||{},approval:`${l.slaHours}h`},owners:{...((La=h.S4)==null?void 0:La.owners)||{},content:l.contentOwner,traffic:l.trafficOwner,support:l.supportOwner},contacts:{...((Fa=h.S4)==null?void 0:Fa.contacts)||{},emergency:l.emergencyContact},schedule:{...((Da=h.S4)==null?void 0:Da.schedule)||{},frequency:l.postingFrequency,bestDays:l.bestDays||[],bestTimes:l.bestTimes||[],startDate:l.startDate,cycleDuration:l.cycleDuration},stakeholders:l.stakeholders||[],competitors:l.competitors||[]},Qe={...h.S5||{},palette:{...((Ba=h.S5)==null?void 0:Ba.palette)||{},primary:l.primaryColor,secondary:l.secondaryColor,accent:l.accentColor},rules:{...((za=h.S5)==null?void 0:za.rules)||{},mood:l.mood},ideas:l.ideas||[],references:l.references||[],notepad:l.notepad||"",brandAssets:l.brandAssets||((Ga=h.S5)==null?void 0:Ga.brandAssets)||void 0,brandIdentity:l.brandIdentity||((Ua=h.S5)==null?void 0:Ua.brandIdentity)||void 0},Xe={...h,S1:E,S2:z,S3:te,S4:oe,S5:Qe},Ze=(z.products||[]).map(R=>({id:R.id,product:R.name,type:R.category||"Produto",price:R.price,margin:R.margin,offer_strategy:R.role==="Hero"?"TrÃ¡fego Frio":"Upsell",status:"Active"})),et=[{id:1,task:"AprovaÃ§Ã£o de Criativos",owner:"AgÃªncia",approver:((Ka=(Ha=oe.matrix)==null?void 0:Ha.find(R=>R.role==="Aprovador Final"))==null?void 0:Ka.who)||"",sla:(qa=oe.slas)==null?void 0:qa.approval,status:"Active"},{id:2,task:"DefiniÃ§Ã£o de Oferta",owner:"Cliente",approver:"AgÃªncia",sla:"48h",status:"Active"}],ae=(Wa=A==null?void 0:A.dashboard)==null?void 0:Wa.D2,tt=k&&(!Array.isArray(ae)||ae.length===0),Q=(z.products||[])[0],J=tt?[{id:1,date:"2024-03-01",initiative:`LanÃ§amento: ${E.fields.promise}`,channel:"Instagram Reel",format:"reel",offerId:Q==null?void 0:Q.id,ctaId:"CTA_MAIN",responsible:"IA Agent",status:"scheduled",visual_output:"Pending"},{id:2,date:"2024-03-03",initiative:`Combater: ${E.fields.enemy}`,channel:"Instagram Story",format:"story",offerId:Q==null?void 0:Q.id,ctaId:"CTA_MAIN",responsible:"IA Agent",status:"draft",visual_output:"Pending"}]:ae;return{...A,clientName:l.clientName??A.clientName,customThemeEnabled:l.customThemeEnabled??A.customThemeEnabled,governanceHistory:l.governanceHistory??A.governanceHistory,vaults:Xe,dashboard:{...(A==null?void 0:A.dashboard)||{},D1:Ze,D2:J,D3:et}}})},[$]);const M=f.useCallback(({regeneratePlanIfEmpty:l=!1}={})=>{$(_=>{var oe,Qe,Xe,Ze,et,ae,tt,Q;const k=(_==null?void 0:_.vaults)||{},A=((oe=k.S1)==null?void 0:oe.fields)||{},h=Array.isArray((Qe=k.S2)==null?void 0:Qe.products)?k.S2.products:[],E=h.map(J=>({id:J.id,product:J.name,type:J.category||"Produto",price:J.price,margin:J.margin,offer_strategy:J.role==="Hero"?"TrÃ¡fego Frio":"Upsell",status:"Active"})),z=[{id:1,task:"AprovaÃ§Ã£o de Criativos",owner:"AgÃªncia",approver:((et=(Ze=(Xe=k.S4)==null?void 0:Xe.matrix)==null?void 0:Ze.find(J=>J.role==="Aprovador Final"))==null?void 0:et.who)||"",sla:(tt=(ae=k.S4)==null?void 0:ae.slas)==null?void 0:tt.approval,status:"Active"},{id:2,task:"DefiniÃ§Ã£o de Oferta",owner:"Cliente",approver:"AgÃªncia",sla:"48h",status:"Active"}],y=(Q=_==null?void 0:_.dashboard)==null?void 0:Q.D2,j=l&&(!Array.isArray(y)||y.length===0),L=h[0],te=j?[{id:1,date:"2024-03-01",initiative:`LanÃ§amento: ${A.promise||""}`,channel:"Instagram Reel",format:"reel",offerId:L==null?void 0:L.id,ctaId:"CTA_MAIN",responsible:"IA Agent",status:"scheduled",visual_output:"Pending"},{id:2,date:"2024-03-03",initiative:`Combater: ${A.enemy||""}`,channel:"Instagram Story",format:"story",offerId:L==null?void 0:L.id,ctaId:"CTA_MAIN",responsible:"IA Agent",status:"draft",visual_output:"Pending"}]:y;return{..._,dashboard:{...(_==null?void 0:_.dashboard)||{},D1:E,D2:te,D3:z}}})},[$]),Ke=()=>{M({regeneratePlanIfEmpty:!0}),r({title:"Dados Salvos e Processados",description:"O OnePage Dashboard foi atualizado com sucesso.",type:"success"})},ee=(l,_)=>{D.includes(l)||W([...D,l]),O(_),window.scrollTo(0,0)},qe=()=>{ee("V1","V2")},We=()=>{ee("V2","V3")},Je=()=>{ee("V3","V4")},Ye=()=>{Ke(),ee("V4","OS")};return u.jsxs($r,{activeTab:N,setActiveTab:O,completedTabs:D,onBack:n,children:[N==="V1"&&u.jsx(Vr,{formData:V,setFormData:B,onNext:qe}),N==="V2"&&u.jsx(Mr,{formData:V,setFormData:B,onNext:We}),N==="V3"&&u.jsx(jr,{formData:V,setFormData:B,onNext:Je}),N==="V4"&&u.jsx(Lr,{formData:V,setFormData:B,onComplete:Ye}),N==="V5"&&u.jsx(Fr,{formData:V,setFormData:B,onComplete:()=>{O("OS")}}),N==="OS"&&u.jsx(Dr,{appData:a,setAppData:$,setActiveTab:O,onGeneratePrompt:X,formData:V,setFormData:B,meetingState:H,setMeetingState:Y,currentUser:t,isWorkspaceLoading:i}),(m||b)&&u.jsx("div",{"data-testid":"prompt-overlay",className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 animate-fadeIn",children:u.jsx("div",{className:"bg-[#111] border border-white/10 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden flex flex-col max-h-[90vh] min-h-[400px]",children:b?u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center space-y-4",children:[u.jsx(Ja,{className:"text-purple-500 animate-pulse",size:48}),u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Processando Contexto..."}),u.jsx("p",{className:"text-gray-400 text-sm",children:"Analisando Vaults S1-S5 e gerando diretrizes."})]}),u.jsx("div",{className:"w-64 h-1 bg-gray-800 rounded-full overflow-hidden mt-4",children:u.jsx("div",{className:"h-full bg-purple-500 animate-progressBar"})})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"h-14 border-b border-white/10 bg-[#0a0a0a] flex items-center justify-between px-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ja,{className:"text-purple-500",size:18}),u.jsx("span",{className:"font-bold text-gray-200",children:"Bravvo Binder - IDF Engine v1"})]}),u.jsx("button",{"data-testid":"prompt-close",onClick:()=>p(null),className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:u.jsx(gr,{className:"rotate-45 text-gray-400",size:20})})]}),u.jsxs("div",{className:"flex border-b border-white/5 bg-[#080808]",children:[u.jsxs("button",{"data-testid":"prompt-tab-ai",onClick:()=>T("ai"),className:`flex-1 h-12 text-xs font-bold uppercase tracking-wider transition-all flex items-center justify-center gap-2 ${v==="ai"?"bg-[#111] text-purple-400 border-b-2 border-purple-500":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[u.jsx(hr,{size:14}),"AI PROMPT (MIDJOURNEY)"]}),u.jsxs("button",{"data-testid":"prompt-tab-human",onClick:()=>T("human"),className:`flex-1 h-12 text-xs font-bold uppercase tracking-wider transition-all flex items-center justify-center gap-2 ${v==="human"?"bg-[#111] text-orange-400 border-b-2 border-orange-500":"text-gray-500 hover:text-gray-300 hover:bg-white/5"}`,children:[u.jsx(fr,{size:14}),"HUMAN GUIDE (EDITOR)"]})]}),u.jsx("div",{"data-testid":"prompt-content",className:"flex-1 overflow-auto p-6 bg-[#050505] font-mono text-sm text-gray-300 relative group",children:u.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:v==="ai"?m.aiPrompt:m.humanGuide})}),u.jsxs("div",{className:"h-16 border-t border-white/10 bg-[#0a0a0a] flex items-center justify-between px-6",children:[u.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${v==="ai"?"bg-purple-500":"bg-orange-500"}`}),u.jsx("span",{children:v==="ai"?"Modo: Gerador Instrucional (9-Block)":"Modo: Guia Operacional Humano"})]}),u.jsxs("button",{"data-testid":"prompt-copy",onClick:Z,className:`flex items-center gap-2 px-6 py-2 rounded-full font-bold transition-all ${G?"bg-green-500 text-black":"bg-white text-black hover:scale-105"}`,children:[G?u.jsx(yr,{size:16}):u.jsx(Sr,{size:16}),G?"COPIADO":"COPIAR"]})]})]})})})]})}function Kr(){return u.jsx(kr,{children:u.jsx(f.Suspense,{fallback:u.jsx("div",{className:"min-h-screen bg-[#050505]"}),children:u.jsx(qr,{})})})}function qr(){const[n,e]=f.useState("landing"),[t,o]=f.useState(null),[i,r]=f.useState(null),[s,c]=f.useState(!1),{addToast:d}=nr();f.useEffect(()=>{const v=sessionStorage.getItem("bravvo_session")||localStorage.getItem("bravvo_session");if(v)try{JSON.parse(v).user==="bravvo"&&(o({role:"agency",client:null}),e("agency"),d({title:"Bem-vindo de volta, Commander",type:"success"}))}catch(T){console.error("Session parse error",T),localStorage.removeItem("bravvo_session"),sessionStorage.removeItem("bravvo_session")}},[d]);const g=(v,T)=>{if(T){const I={user:T.username,role:v,token:"mock-token-123",ts:Date.now()};sessionStorage.setItem("bravvo_session",JSON.stringify(I)),T.remember?localStorage.setItem("bravvo_session",JSON.stringify(I)):localStorage.removeItem("bravvo_session")}if(v==="agency")e("agency"),o({role:"agency",client:null});else if(v==="master")e("master"),o({role:"master",client:null});else{const I=se.loadClientData("C1");c(!0),r(I),e("client_workspace"),o({role:"client",client:{id:"C1",name:"Direct Client"}})}},m=v=>{const T=se.loadClientData(v.id);c(!0),r(T),o(I=>({...I||{},client:v})),e("client_workspace")};f.useEffect(()=>{n==="client_workspace"&&s&&c(!1)},[n,s]);const p=()=>{},b=()=>{localStorage.removeItem("bravvo_session"),sessionStorage.removeItem("bravvo_session"),e("login"),o(null),r(null)},x=()=>{(t==null?void 0:t.role)==="master"?e("master"):e("agency"),r(null)};switch(n){case"landing":return u.jsx(er,{onLogin:()=>e("login")});case"login":return u.jsx(Br,{onLogin:g});case"agency":return u.jsx(zr,{onSelectClient:m,onLogout:b});case"master":return u.jsx(Gr,{onSelectClient:m,onLogout:b});case"client_workspace":return u.jsx(Ur,{onBackToAgency:(t==null?void 0:t.role)!=="client"?x:void 0,isAgencyView:(t==null?void 0:t.role)!=="client",initialData:i,onSave:p,currentUser:t,isWorkspaceLoading:s});default:return u.jsx(er,{onLogin:()=>e("login")})}}const cr="bravvo_error_log",Wr=50;function Jr(n){try{return JSON.stringify(n)}catch{return}}function Yr(n){return n?n instanceof Error?{name:n.name,message:n.message,stack:n.stack||""}:typeof n=="string"?{name:"Error",message:n,stack:""}:{name:"Error",message:Jr(n)||String(n),stack:""}:{name:"UnknownError",message:"Unknown error",stack:""}}function Qr(){if(typeof window>"u")return[];try{const n=window.localStorage.getItem(cr),e=n?JSON.parse(n):[];return Array.isArray(e)?e:[]}catch{return[]}}function Xr(n){if(!(typeof window>"u"))try{window.localStorage.setItem(cr,JSON.stringify(n))}catch{}}function st(n,e,t={}){var s,c;const o=Yr(e),i={id:`${Date.now()}-${Math.random().toString(16).slice(2)}`,ts:new Date().toISOString(),source:n,name:o.name,message:o.message,stack:o.stack,url:typeof window<"u"?window.location.href:"",userAgent:typeof navigator<"u"?navigator.userAgent:"",extra:t},r=Qr();return r.unshift(i),Xr(r.slice(0,Wr)),typeof import.meta<"u"&&((c=(s=import.meta)==null?void 0:s.env)!=null&&c.DEV)&&console.error(`[BravvoOS][${n}]`,e,t),i}const tr=n=>{const e=String((n==null?void 0:n.message)||n||"");return e?e.includes("Failed to fetch dynamically imported module")||e.includes("Importing a module script failed"):!1},or=()=>{if(!(typeof window>"u"))try{const n="bravvo_chunk_recover_once";if(sessionStorage.getItem(n))return;sessionStorage.setItem(n,"1");const e=new URL(window.location.href);e.searchParams.set("v",String(Date.now())),window.location.replace(e.toString())}catch{window.location.reload()}};class Zr extends rr.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error("Uncaught error:",e,t),st("react_error_boundary",e,{componentStack:t==null?void 0:t.componentStack}),this.setState({error:e,errorInfo:t}),tr(e)&&or()}render(){return this.state.hasError?u.jsxs("div",{style:{padding:"20px",color:"white",background:"#111",height:"100vh",fontFamily:"monospace"},children:[u.jsx("h1",{children:"âš ï¸ Algo deu errado."}),u.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),u.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]}),u.jsx("button",{onClick:()=>{tr(this.state.error)?or():window.location.reload()},style:{marginTop:"20px",padding:"10px 20px",background:"#333",color:"white",border:"none",cursor:"pointer"},children:"Recarregar PÃ¡gina"})]}):this.props.children}}const ar={pt:{landing:{status:"Sistema Operacional: Online",hero:{title_line1:"Seu Marketing Organizado",title_line2:"em Um SÃ³ Lugar.",subtitle:"O Bravvo Binder Ã© o sistema que organiza toda a estratÃ©gia de marketing da sua empresa: da identidade da marca ao calendÃ¡rio de publicaÃ§Ãµes, com aprovaÃ§Ãµes e geraÃ§Ã£o de artes incluÃ­das.",cta_primary:"COMEÃ‡AR AGORA",cta_secondary:"VER COMO FUNCIONA"},stats:{agencies:"AgÃªncias Ativas",campaigns:"Campanhas Geridas",assets:"Assets Gerados",uptime:"Uptime"},how_it_works:{title:"Como Funciona",subtitle:"4 etapas simples para organizar todo o marketing da sua empresa",step1:{number:"01",title:"Preencha os Vaults",desc:"Cadastre as informaÃ§Ãµes essenciais: DNA da marca (missÃ£o, valores, tom de voz), sua oferta principal (produto, preÃ§o, diferenciais), canais de trÃ¡fego (Instagram, TikTok, Google Ads) e seu time."},step2:{number:"02",title:"Monte o CalendÃ¡rio",desc:"No Dashboard, crie seu roadmap tÃ¡tico: adicione posts, campanhas e aÃ§Ãµes com data, canal e responsÃ¡vel. Visualize tudo em uma tabela organizada por dia, semana ou mÃªs."},step3:{number:"03",title:"Gere as Artes",desc:"Para cada item do calendÃ¡rio, clique em 'Gerar Arte'. O Creative Studio cria automaticamente peÃ§as visuais usando as cores e identidade da sua marca cadastradas nos Vaults."},step4:{number:"04",title:"Aprove e Publique",desc:"Altere o status de cada item (Rascunho â†’ Em ProduÃ§Ã£o â†’ Agendado â†’ Publicado). Envie links de aprovaÃ§Ã£o pelo WhatsApp. Tudo fica registrado para auditoria."}},features:{title:"O Que EstÃ¡ IncluÃ­do",subtitle:"Tudo que vocÃª precisa para operar marketing de forma profissional",vaults:{title:"5 Vaults EstratÃ©gicos",desc:"Organize DNA da Marca, Oferta, Funil de TrÃ¡fego, Time e Banco de Ideias em fichas estruturadas que alimentam todo o sistema."},dashboard:{title:"Dashboard TÃ¡tico",desc:"CalendÃ¡rio visual com todas as iniciativas de marketing. Filtre por hoje, amanhÃ£ ou semana. Veja KPIs de receita, trÃ¡fego e vendas."},creative:{title:"Creative Studio",desc:"Gerador de artes automÃ¡tico. Cria posts para Instagram, Stories, Reels, TikTok, YouTube e mais, jÃ¡ com as cores e identidade da sua marca."},governance:{title:"GovernanÃ§a & AprovaÃ§Ãµes",desc:"Fluxo de aprovaÃ§Ã£o com histÃ³rico. Envie para aprovaÃ§Ã£o via WhatsApp. Cada mudanÃ§a de status Ã© registrada para auditoria completa."},multicanal:{title:"11 Canais Suportados",desc:"Instagram (Feed, Stories, Reels, Carousel), TikTok, YouTube, LinkedIn, Facebook, Twitter/X, WhatsApp, Email e Blog."},formats:{title:"11 Formatos de Arte",desc:"Story 9:16, Feed 4:5, Feed 1:1, Landscape 16:9, YouTube Thumbnail, LinkedIn Post, Display Ads (4 tamanhos), Email Header."}},use_cases:{title:"Para Quem Ã© o Bravvo Binder?",case1:{title:"AgÃªncias de Marketing",desc:"Gerencie mÃºltiplos clientes em workspaces separados. Cada cliente tem seus Vaults, calendÃ¡rio e artes. Escale operaÃ§Ãµes sem perder qualidade."},case2:{title:"Times de Marketing In-House",desc:"Centralize a estratÃ©gia da empresa. Alinhe todos do time com a mesma fonte da verdade. Elimine retrabalho e aprovaÃ§Ãµes perdidas em email."},case3:{title:"Empreendedores e PMEs",desc:"Mesmo sem time dedicado, organize seu marketing como profissional. Os Vaults guiam vocÃª a documentar sua estratÃ©gia de forma estruturada."}},manifesto:{label:"/ Por Que Criamos Isso",title:"Marketing sem sistema Ã© sÃ³ ruÃ­do.",p1:"A maioria das empresas tem ideias boas, mas perde tempo em planilhas desatualizadas, grupos de WhatsApp caÃ³ticos e aprovaÃ§Ãµes que somem no email.",p2:"O Bravvo Binder resolve isso: um Ãºnico lugar onde sua estratÃ©gia, calendÃ¡rio, artes e aprovaÃ§Ãµes vivem juntos e conectados.",agency_title:"Para AgÃªncias",agency_desc:"Gerencie dezenas de clientes com processo replicÃ¡vel. GovernanÃ§a como serviÃ§o.",enterprise_title:"Para Empresas",enterprise_desc:"Tenha posse dos seus dados. Uma fonte da verdade para todo o time de marketing."},footer:{platform:"Plataforma",company:"Empresa",social:"Social",rights:"Â© 2024 Bravvo Technologies Inc."}},auth:{login:{badge:"Bravvo OS Enterprise v5.0",title_line1:"Acesso ao Sistema",title_line2:"de GovernanÃ§a.",subtitle:"Entre com suas credenciais para acessar o sistema operacional de marketing.",cta_pricing:"Ver Planos & PreÃ§os",form_title:"Fazer Login",label_user:"USUÃRIO",label_pass:"SENHA",placeholder_user:"Digite seu usuÃ¡rio",placeholder_pass:"Digite sua senha",remember:"Manter-me conectado",submit:"ACESSAR SISTEMA",help:"DÃºvidas de acesso? Contate seu gerente de conta."},pricing:{title:"Escolha seu nÃ­vel de GovernanÃ§a",subtitle:"Do software puro ao acompanhamento estratÃ©gico completo.",tier1:{name:"Bravvo OS",badge:"Self-Service",desc:"Acesso completo ao Sistema Operacional. VocÃª opera, nÃ³s organizamos.",cta:"ComeÃ§ar Agora"},tier2:{name:"Governance Partner",badge:"Recomendado",desc:"NÃ£o apenas a ferramenta, mas a garantia de uso. GovernanÃ§a humana mensal.",cta:"Falar com Consultor"},tier3:{name:"Concierge",badge:"Premium",desc:"OperaÃ§Ã£o 'Done-for-You'. NÃ³s capturamos, geramos e organizamos para vocÃª.",cta:"Aplicar para Vaga"}}},dashboard:{nav:{overview:"VisÃ£o Geral",financials:"Financeiro",team:"Time",audit:"Auditoria"},stats:{revenue:"Receita Total (MRR)",active_workspaces:"Workspaces Ativos",pending:"RevisÃµes Pendentes",health:"SaÃºde do Sistema"},actions:{search:"Buscar...",search_wide:"Buscar no sistema...",logout:"Sair",access_os:"Acessar OS",view_all:"Ver Todos",select_client:"Selecionar Cliente"},agency:{command_center:"Central de Comando",bravvo_hq:"Bravvo HQ",total_revenue:"Receita Total (MRR)",active_workspaces:"Workspaces Ativos",slots:"Vagas",client_workspaces:"Workspaces de Clientes",new_workspace:"Novo Workspace",monthly_rev:"Receita Mensal",head:"ResponsÃ¡vel",coming_soon:"Em breve - Funcionalidade em desenvolvimento",pending_approvals:"AprovaÃ§Ãµes Pendentes",team_online:"Time Online",system_health:"SaÃºde do Sistema"},master:{bravvo_master:"Bravvo Master",admin:"Admin",global_revenue:"Receita Global (ARR)",total_clients:"Total de Clientes",across_agencies:"AtravÃ©s de {count} agÃªncias",system_health:"SaÃºde do Sistema",requires_attention:"requerem atenÃ§Ã£o",risks:"Riscos",client_name:"Nome do Cliente",agency_owner:"AgÃªncia ResponsÃ¡vel",revenue:"Receita",status:"Status",action:"AÃ§Ã£o"}},os:{status:{governance_active:"GovernanÃ§a Ativa",today:"hoje",tomorrow:"amanhÃ£",week:"semana",month:"mÃªs"},date:{today:"hoje",tomorrow:"amanhÃ£",week:"semana",month:"mÃªs"},actions:{new:"Novo",history:"HistÃ³rico",run_gov:"EXECUTAR GOV",commit:"COMMIT",save:"Salvar",cancel:"Cancelar",edit:"Editar",delete:"Deletar",add:"Adicionar",remove:"Remover",create:"Criar",update:"Atualizar"},kpis:{revenue:"Receita",traffic:"TrÃ¡fego CPM",sales:"Volume de Vendas",goal:"Meta",next_priority:"PrÃ³xima Prioridade",no_items_scheduled:"Nenhum item agendado"},table:{date:"Data",initiative:"Iniciativa",channel:"Canal",status:"Status",owner:"ResponsÃ¡vel",edit:"Editar",unassigned:"NÃ£o atribuÃ­do"},roadmap:{title:"Roadmap TÃ¡tico",date:"Data",initiative:"Iniciativa",channel:"Canal",status:"Status",owner:"ResponsÃ¡vel",edit:"Editar",no_items:"Nenhuma iniciativa encontrada para este perÃ­odo",add_item:"Adicionar Item",quick_actions:"AÃ§Ãµes RÃ¡pidas",quick_add:{title:"Nova Iniciativa",title_label:"TÃ­tulo da Iniciativa",date_label:"Data de PublicaÃ§Ã£o",channel_label:"Canal/Plataforma",placeholder:"ex: Post de LanÃ§amento VerÃ£o",create_button:"Criar Iniciativa"}},vaults:{brand_dna:"DNA DA MARCA",offer:"OFERTA",traffic:"TRÃFEGO",team:"TIME",ideas:"IDEIAS"},channels:{instagram_feed:"Instagram Feed",instagram_reels:"Instagram Reels",instagram_stories:"Instagram Stories",tiktok:"TikTok",whatsapp:"WhatsApp Status",google_ads:"Google Ads"},status_labels:{draft:"Rascunho",pending:"Pendente",active:"Ativo",review:"Em RevisÃ£o",approved:"Aprovado",completed:"ConcluÃ­do"},status_options:{draft:"Rascunho",in_production:"Em ProduÃ§Ã£o",scheduled:"Agendado",done:"Publicado",cancelled:"Cancelado"}},binder:{nav:{agency:"AGÃŠNCIA",bravvo_os:"BRAVVO BINDER",command_center:"CENTRO DE COMANDO",binder:"BINDER",dashboard:"PAINEL"},status:{saved:"Salvo",saving:"Salvando...",error:"Erro ao salvar"},progress:{vaults:"Vaults",vault:"Vault",completed:"concluÃ­do",of:"de"},actions:{back_to_agency:"Voltar para AgÃªncia",current_phase:"FASE ATUAL"}},vaults:{brand:{title:"DNA da Marca",subtitle:"Defina a identidade, valores e personalidade da sua marca",mission_label:"MissÃ£o",mission_placeholder:"Por que sua marca existe?",vision_label:"VisÃ£o",vision_placeholder:"Onde quer chegar?",values_label:"Valores",values_placeholder:"Digite um valor e pressione Enter",archetype_label:"ArquÃ©tipo da Marca",archetype_helper:"Escolha a personalidade que melhor representa sua marca",tone_label:"Tom de Voz",mood_label:"Mood Visual",colors_label:"Paleta de Cores",primary_color:"Cor PrimÃ¡ria",secondary_color:"Cor SecundÃ¡ria",accent_color:"Cor de Destaque",logo_label:"Logo",random_mood:"Gerar Mood AleatÃ³rio",submit:"Salvar Identidade"},offer:{title:"Oferta & Produto",subtitle:"Configure seus produtos, preÃ§os e posicionamento",product_name:"Nome do Produto/ServiÃ§o",product_name_placeholder:"ex: Consultoria Premium",category_label:"Categoria",price_label:"PreÃ§o",price_placeholder:"ex: R$ 497",description_label:"DescriÃ§Ã£o",description_placeholder:"Descreva sua oferta principal...",differentials_label:"Diferenciais",differentials_placeholder:"O que torna sua oferta Ãºnica?",submit:"Salvar Oferta"},funnel:{title:"Funil & TrÃ¡fego",subtitle:"Configure canais, links e estratÃ©gia de conversÃ£o",channels_label:"Canais Ativos",channels_helper:"Selecione todos os canais onde sua marca estÃ¡ presente",channels_selected:"canal(is) selecionado(s)",conversion_label:"Link de ConversÃ£o",conversion_placeholder:"URL principal de conversÃ£o",traffic_label:"EstratÃ©gia de TrÃ¡fego",utm_label:"Campanha UTM",utm_placeholder:"ex: lancamento-verao",submit:"Salvar Funil"},ops:{title:"OperaÃ§Ãµes & Time",subtitle:"Defina estrutura de time e responsabilidades",structure_label:"Estrutura do Time",structure_helper:"Quem executarÃ¡ a estratÃ©gia?",owner_label:"ResponsÃ¡vel",owner_placeholder:"Nome ou cargo",submit:"Salvar Time"},ideas:{title:"Ideias & ReferÃªncias",subtitle:"Salve inspiraÃ§Ãµes, concorrentes e referÃªncias",add_idea:"Adicionar Ideia",add_competitor:"Adicionar Concorrente",add_reference:"Adicionar ReferÃªncia",url_placeholder:"URL da referÃªncia",notes_placeholder:"Suas anotaÃ§Ãµes...",submit:"Salvar"}},common:{loading:"Carregando...",error:"Erro",success:"Sucesso",submit:"Enviar",close:"Fechar",back:"Voltar",next:"PrÃ³ximo",previous:"Anterior",save:"Salvar",cancel:"Cancelar",delete:"Deletar",edit:"Editar",add:"Adicionar",remove:"Remover",search:"Buscar",filter:"Filtrar",all:"Todos",none:"Nenhum",yes:"Sim",no:"NÃ£o",ok:"OK",ready_to_operate:"Pronto para comeÃ§ar?",all_systems_normal:"Todos os Sistemas Operacionais",status:"Status",sign_in:"FAZER LOGIN"}},en:{landing:{status:"System Status: Operational",hero:{title_line1:"Your Marketing Organized",title_line2:"in One Place.",subtitle:"Bravvo Binder is the system that organizes your entire marketing strategy: from brand identity to content calendar, with approvals and art generation included.",cta_primary:"START NOW",cta_secondary:"SEE HOW IT WORKS"},stats:{agencies:"Active Agencies",campaigns:"Campaigns Managed",assets:"Assets Generated",uptime:"Uptime"},how_it_works:{title:"How It Works",subtitle:"4 simple steps to organize all your company's marketing",step1:{number:"01",title:"Fill the Vaults",desc:"Register essential info: Brand DNA (mission, values, tone of voice), your main offer (product, price, differentials), traffic channels (Instagram, TikTok, Google Ads) and your team."},step2:{number:"02",title:"Build the Calendar",desc:"In the Dashboard, create your tactical roadmap: add posts, campaigns and actions with date, channel and owner. View everything in a table organized by day, week or month."},step3:{number:"03",title:"Generate the Arts",desc:"For each calendar item, click 'Generate Art'. Creative Studio automatically creates visual pieces using your brand colors and identity registered in the Vaults."},step4:{number:"04",title:"Approve and Publish",desc:"Change each item's status (Draft â†’ In Production â†’ Scheduled â†’ Published). Send approval links via WhatsApp. Everything is logged for audit."}},features:{title:"What's Included",subtitle:"Everything you need to operate marketing professionally",vaults:{title:"5 Strategic Vaults",desc:"Organize Brand DNA, Offer, Traffic Funnel, Team and Ideas Bank in structured cards that feed the entire system."},dashboard:{title:"Tactical Dashboard",desc:"Visual calendar with all marketing initiatives. Filter by today, tomorrow or week. See KPIs for revenue, traffic and sales."},creative:{title:"Creative Studio",desc:"Automatic art generator. Creates posts for Instagram, Stories, Reels, TikTok, YouTube and more, already with your brand colors and identity."},governance:{title:"Governance & Approvals",desc:"Approval flow with history. Send for approval via WhatsApp. Every status change is logged for complete audit."},multicanal:{title:"11 Supported Channels",desc:"Instagram (Feed, Stories, Reels, Carousel), TikTok, YouTube, LinkedIn, Facebook, Twitter/X, WhatsApp, Email and Blog."},formats:{title:"11 Art Formats",desc:"Story 9:16, Feed 4:5, Feed 1:1, Landscape 16:9, YouTube Thumbnail, LinkedIn Post, Display Ads (4 sizes), Email Header."}},use_cases:{title:"Who Is Bravvo Binder For?",case1:{title:"Marketing Agencies",desc:"Manage multiple clients in separate workspaces. Each client has their own Vaults, calendar and arts. Scale operations without losing quality."},case2:{title:"In-House Marketing Teams",desc:"Centralize company strategy. Align everyone on the team with the same source of truth. Eliminate rework and approvals lost in email."},case3:{title:"Entrepreneurs and SMBs",desc:"Even without a dedicated team, organize your marketing like a pro. The Vaults guide you to document your strategy in a structured way."}},manifesto:{label:"/ Why We Built This",title:"Marketing without system is just noise.",p1:"Most companies have good ideas, but waste time on outdated spreadsheets, chaotic WhatsApp groups and approvals that get lost in email.",p2:"Bravvo Binder solves this: one single place where your strategy, calendar, arts and approvals live together and connected.",agency_title:"For Agencies",agency_desc:"Manage dozens of clients with replicable process. Governance as a service.",enterprise_title:"For Companies",enterprise_desc:"Own your data. One source of truth for the entire marketing team."},footer:{platform:"Platform",company:"Company",social:"Social",rights:"Â© 2024 Bravvo Technologies Inc."}},auth:{login:{badge:"Bravvo OS Enterprise v5.0",title_line1:"High Level",title_line2:"Governance.",subtitle:"The definitive operating system for agencies and brands seeking order in chaos.",cta_pricing:"View Plans & Pricing",form_title:"Access System",label_user:"USERNAME",label_pass:"PASSWORD",placeholder_user:"Your username",placeholder_pass:"Your password",remember:"Stay logged in",submit:"ENTER OS",help:"Access issues? Contact your account manager."},pricing:{title:"Choose your Governance Level",subtitle:"From pure software to complete strategic oversight.",tier1:{name:"Bravvo OS",badge:"Self-Service",desc:"Full access to the Operating System. You operate, we organize.",cta:"Start Now"},tier2:{name:"Governance Partner",badge:"Recommended",desc:"Not just the tool, but the guarantee of use. Monthly human governance.",cta:"Talk to Consultant"},tier3:{name:"Concierge",badge:"Premium",desc:"'Done-for-You' operation. We capture, generate, and organize for you.",cta:"Apply for Spot"}}},dashboard:{nav:{overview:"Overview",financials:"Financials",team:"Team",audit:"Audit"},stats:{revenue:"Total Revenue (MRR)",active_workspaces:"Active Workspaces",pending:"Pending Reviews",health:"System Health"}}},es:{landing:{status:"Estado del Sistema: Operativo",hero:{title_line1:"Sistema Operativo",title_line2:"para Marketing Moderno.",subtitle:"La era caÃ³tica de hojas de cÃ¡lculo y herramientas fragmentadas ha terminado. Bravvo Binder centraliza estrategia, creatividad y gobernanza.",cta_primary:"INICIAR OPERACIÃ“N",cta_secondary:"AGENDAR DEMO"},stats:{agencies:"Agencias Activas",campaigns:"CampaÃ±as Gestionadas",assets:"Activos Generados",uptime:"Tiempo de Actividad"},architecture:{title:"Arquitectura Central",subtitle:"DiseÃ±ado para equipos de alto rendimiento que exigen precisiÃ³n, no solo participaciÃ³n.",card_command:{title:"Centro de Comando",desc:"Una interfaz unificada para control omnisciente. Monitorea ingresos, velocidad de activos y equipo."},card_ai:{title:"Motor Generativo",desc:"Briefings creativos automatizados basados en Vaults histÃ³ricos. Cero alucinaciones."},card_gov:{title:"Gobernanza Inmutable",desc:"Cada aprobaciÃ³n se registra criptogrÃ¡ficamente. Historial auditable para agencia y cliente."}},manifesto:{label:"/ El Manifiesto",title:"El caos no es una estrategia creativa.",p1:"Creemos que el marketing falla no por falta de ideas, sino por falta de sistema.",p2:"Cuando tu operaciÃ³n vive en hojas de cÃ¡lculo fragmentadas, generas ruido, no seÃ±al.",agency_title:"Para Agencias",agency_desc:"Escala sin agregar caos. Gobernanza como servicio.",enterprise_title:"Para Empresas",enterprise_desc:"SÃ© dueÃ±o de tus datos. Descentraliza la ejecuciÃ³n, centraliza el control."},footer:{platform:"Plataforma",company:"Empresa",social:"Social",rights:"Â© 2024 Bravvo Technologies Inc."}},auth:{login:{badge:"Bravvo OS Enterprise v5.0",title_line1:"Gobernanza de",title_line2:"Alto Nivel.",subtitle:"El sistema operativo definitivo para agencias y marcas que buscan orden en el caos.",cta_pricing:"Ver Planes y Precios",form_title:"Acceder al Sistema",label_user:"USUARIO",label_pass:"CONTRASEÃ‘A",placeholder_user:"Tu usuario",placeholder_pass:"Tu contraseÃ±a",remember:"Mantener sesiÃ³n",submit:"ENTRAR AL OS",help:"Â¿Problemas de acceso? Contacta a tu gerente."},pricing:{title:"Elige tu nivel de Gobernanza",subtitle:"Desde software puro hasta supervisiÃ³n estratÃ©gica completa.",tier1:{name:"Bravvo OS",badge:"Autoservicio",desc:"Acceso completo al Sistema Operativo. TÃº operas, nosotros organizamos.",cta:"Empezar Ahora"},tier2:{name:"Governance Partner",badge:"Recomendado",desc:"No solo la herramienta, sino la garantÃ­a de uso. Gobernanza humana mensual.",cta:"Hablar con Consultor"},tier3:{name:"Concierge",badge:"Premium",desc:"OperaciÃ³n 'Hecha para Ti'. Capturamos, generamos y organizamos por ti.",cta:"Aplicar a Vacante"}}},dashboard:{nav:{overview:"VisiÃ³n General",financials:"Finanzas",team:"Equipo",audit:"AuditorÃ­a"},stats:{revenue:"Ingresos Totales (MRR)",active_workspaces:"Espacios Activos",pending:"Revisiones Pendientes",health:"Salud del Sistema"}}}},lr=f.createContext(),es=({children:n})=>{const[e,t]=f.useState(()=>localStorage.getItem("bravvo_lang")||"pt");f.useEffect(()=>{localStorage.setItem("bravvo_lang",e)},[e]);const o=i=>{var d,g;const r=i.split(".");let s=ar[e];const c=typeof import.meta<"u"&&!!((g=(d=import.meta)==null?void 0:d.env)!=null&&g.DEV);for(let m of r){if(s[m]===void 0){c&&console.warn(`Translation missing for key: ${i} in language: ${e}`);let p=ar.en;for(let b of r)p=p==null?void 0:p[b];return p||i}s=s[m]}return s};return u.jsx(lr.Provider,{value:{language:e,setLanguage:t,t:o},children:n})},as=()=>{const n=f.useContext(lr);if(!n)throw new Error("useLanguage must be used within a LanguageProvider");return n};if(typeof window<"u"){const n=t=>{const o=String((t==null?void 0:t.message)||t||"");return o?o.includes("Failed to fetch dynamically imported module")||o.includes("Importing a module script failed"):!1},e=()=>{try{const t="bravvo_chunk_recover_once";if(sessionStorage.getItem(t))return;sessionStorage.setItem(t,"1");const o=new URL(window.location.href);o.searchParams.set("v",String(Date.now())),window.location.replace(o.toString())}catch{window.location.reload()}};window.addEventListener("error",t=>{st("window_error",(t==null?void 0:t.error)||(t==null?void 0:t.message),{message:t==null?void 0:t.message,filename:t==null?void 0:t.filename,lineno:t==null?void 0:t.lineno,colno:t==null?void 0:t.colno}),(n(t==null?void 0:t.error)||n(t==null?void 0:t.message))&&e()}),window.addEventListener("unhandledrejection",t=>{st("unhandled_rejection",t==null?void 0:t.reason,{reason:t==null?void 0:t.reason}),n(t==null?void 0:t.reason)&&e()})}Ar.createRoot(document.getElementById("root")).render(u.jsx(rr.StrictMode,{children:u.jsx(Zr,{children:u.jsx(es,{children:u.jsx(Kr,{})})})}));export{nr as a,xr as b,Rr as c,se as s,as as u};
